{
  "slug": "append",
  "name": "Append",
  "categories": [
    "strings"
  ],
  "body": {},
  "implementations": {
    "aarch64_assembly": {
      "dir": "string\\append.s",
      "url": "https://github.com/TheAlgorithms/aarch64_assembly/tree/master/string\\append.s",
      "code": "<span class=\"hljs-comment\">/* ARM assembly AARCH64 Raspberry PI 3B */</span>\r\n<span class=\"hljs-comment\">/*  program appendstr64.s   */</span>\r\n \r\n<span class=\"hljs-comment\">/*******************************************/</span>\r\n<span class=\"hljs-comment\">/* Constantes file                         */</span>\r\n<span class=\"hljs-comment\">/*******************************************/</span>\r\n<span class=\"hljs-comment\">/* for this file see task include a file in language AArch64 assembly*/</span>\r\n<span class=\"hljs-symbol\">.include</span> <span class=\"hljs-string\">&quot;../includeConstantesARM64.inc&quot;</span>\r\n \r\n<span class=\"hljs-symbol\">.equ</span> BUFFERSIZE,          <span class=\"hljs-number\">100</span>\r\n<span class=\"hljs-comment\">/*******************************************/</span>\r\n<span class=\"hljs-comment\">/* Initialized data                        */</span>\r\n<span class=\"hljs-comment\">/*******************************************/</span>\r\n<span class=\"hljs-symbol\">.data</span>\r\n<span class=\"hljs-symbol\">szMessString:</span>            <span class=\"hljs-meta\">.asciz</span> <span class=\"hljs-string\">&quot;String :\\n&quot;</span>\r\n<span class=\"hljs-symbol\">szString1:</span>              <span class=\"hljs-meta\">.asciz</span> <span class=\"hljs-string\">&quot;Alphabet : &quot;</span>\r\n<span class=\"hljs-symbol\">sComplement:</span>            .fill BUFFERSIZE,<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">0</span>\r\n<span class=\"hljs-symbol\">szString2:</span>              <span class=\"hljs-meta\">.asciz</span> <span class=\"hljs-string\">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span>\r\n \r\n<span class=\"hljs-symbol\">szCarriageReturn:</span>       <span class=\"hljs-meta\">.asciz</span> <span class=\"hljs-string\">&quot;\\n&quot;</span>\r\n<span class=\"hljs-comment\">/*******************************************/</span>\r\n<span class=\"hljs-comment\">/* UnInitialized data                      */</span>\r\n<span class=\"hljs-comment\">/*******************************************/</span>\r\n<span class=\"hljs-symbol\">.bss</span> \r\n<span class=\"hljs-comment\">/*******************************************/</span>\r\n<span class=\"hljs-comment\">/*  code section                           */</span>\r\n<span class=\"hljs-comment\">/*******************************************/</span>\r\n<span class=\"hljs-symbol\">.text</span>\r\n<span class=\"hljs-symbol\">.global</span> main \r\n<span class=\"hljs-symbol\">main:</span> \r\n \r\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszMessString               <span class=\"hljs-comment\">// display message</span>\r\n    <span class=\"hljs-keyword\">bl</span> affichageMess\r\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszString1                  <span class=\"hljs-comment\">// display begin string</span>\r\n    <span class=\"hljs-keyword\">bl</span> affichageMess\r\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszCarriageReturn           <span class=\"hljs-comment\">// display return line</span>\r\n    <span class=\"hljs-keyword\">bl</span> affichageMess\r\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszString1\r\n    <span class=\"hljs-keyword\">ldr</span> x1,qAdrszString2\r\n    <span class=\"hljs-keyword\">bl</span> append                             <span class=\"hljs-comment\">// append sting2 to string1</span>\r\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszMessString\r\n    <span class=\"hljs-keyword\">bl</span> affichageMess\r\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszString1                  <span class=\"hljs-comment\">// display string</span>\r\n    <span class=\"hljs-keyword\">bl</span> affichageMess \r\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszCarriageReturn\r\n    <span class=\"hljs-keyword\">bl</span> affichageMess\r\n \r\n<span class=\"hljs-number\">100</span>:                                      <span class=\"hljs-comment\">// standard end of the program</span>\r\n    <span class=\"hljs-keyword\">mov</span> x0,<span class=\"hljs-number\">0</span>                              <span class=\"hljs-comment\">// return code</span>\r\n    <span class=\"hljs-keyword\">mov</span> x8,EXIT                           <span class=\"hljs-comment\">// request to exit program</span>\r\n    <span class=\"hljs-keyword\">svc</span> <span class=\"hljs-number\">0</span>                                 <span class=\"hljs-comment\">// perform system call</span>\r\n<span class=\"hljs-symbol\">qAdrszMessString:</span>         .quad szMessString\r\n<span class=\"hljs-symbol\">qAdrszString1:</span>            .quad szString1\r\n<span class=\"hljs-symbol\">qAdrszString2:</span>            .quad szString2\r\n<span class=\"hljs-symbol\">qAdrszCarriageReturn:</span>     .quad szCarriageReturn\r\n<span class=\"hljs-comment\">/**************************************************/</span>\r\n<span class=\"hljs-comment\">/*     append two strings                         */</span> \r\n<span class=\"hljs-comment\">/**************************************************/</span>\r\n<span class=\"hljs-comment\">/* x0 contains the address of the string1 */</span>\r\n<span class=\"hljs-comment\">/* x1 contains the address of the string2 */</span>\r\n<span class=\"hljs-symbol\">append:</span>\r\n    stp x1,<span class=\"hljs-built_in\">lr</span>,[<span class=\"hljs-built_in\">sp</span>,-<span class=\"hljs-number\">16</span>]!            <span class=\"hljs-comment\">// save  registers</span>\r\n    <span class=\"hljs-keyword\">mov</span> x2,<span class=\"hljs-number\">#0</span>                      <span class=\"hljs-comment\">// counter byte string 1</span>\r\n<span class=\"hljs-number\">1</span>:\r\n    <span class=\"hljs-keyword\">ldrb</span> w3,[x0,x2]                <span class=\"hljs-comment\">// load byte string 1</span>\r\n    <span class=\"hljs-keyword\">cmp</span> x3,<span class=\"hljs-number\">#0</span>                      <span class=\"hljs-comment\">// zero final ?</span>\r\n    <span class=\"hljs-keyword\">add</span> x4,x2,<span class=\"hljs-number\">1</span>\r\n    csel x2,x4,x2,ne               <span class=\"hljs-comment\">// if x3 not equal 0, x2 = X2 +1 else x2</span>\r\n    <span class=\"hljs-keyword\">bne</span> <span class=\"hljs-number\">1</span>b                         <span class=\"hljs-comment\">// no -&gt; loop</span>\r\n    <span class=\"hljs-keyword\">mov</span> x4,<span class=\"hljs-number\">#0</span>                      <span class=\"hljs-comment\">// counter byte string 2</span>\r\n<span class=\"hljs-number\">2</span>:\r\n    <span class=\"hljs-keyword\">ldrb</span> w3,[x1,x4]                <span class=\"hljs-comment\">// load byte string 2</span>\r\n    <span class=\"hljs-keyword\">strb</span> w3,[x0,x2]                <span class=\"hljs-comment\">// store byte string 1</span>\r\n    <span class=\"hljs-keyword\">cbz</span> x3,<span class=\"hljs-number\">100</span>f                    <span class=\"hljs-comment\">// zero final ?</span>\r\n    <span class=\"hljs-keyword\">add</span> x2,x2,<span class=\"hljs-number\">1</span>                    <span class=\"hljs-comment\">// no -&gt; increment counter 1</span>\r\n    <span class=\"hljs-keyword\">add</span> x4,x4,<span class=\"hljs-number\">1</span>                    <span class=\"hljs-comment\">// no -&gt; increment counter 2</span>\r\n    <span class=\"hljs-keyword\">b</span> <span class=\"hljs-number\">2</span>b                           <span class=\"hljs-comment\">// no -&gt; loop</span>\r\n<span class=\"hljs-number\">100</span>:\r\n \r\n    ldp x1,<span class=\"hljs-built_in\">lr</span>,[<span class=\"hljs-built_in\">sp</span>],<span class=\"hljs-number\">16</span>              <span class=\"hljs-comment\">// restaur  2 registers</span>\r\n    ret                            <span class=\"hljs-comment\">// return to address lr x30</span>\r\n<span class=\"hljs-comment\">/********************************************************/</span>\r\n<span class=\"hljs-comment\">/*        File Include fonctions                        */</span>\r\n<span class=\"hljs-comment\">/********************************************************/</span>\r\n<span class=\"hljs-comment\">/* for this file see task include a file in language AArch64 assembly */</span>\r\n<span class=\"hljs-symbol\">.include</span> <span class=\"hljs-string\">&quot;../includeARM64.inc&quot;</span>\r\n"
    }
  },
  "contributors": [
    {
      "name": "Mertcan Davulcu",
      "email": "54983926+mertcandav@users.noreply.github.com",
      "commits": 1
    }
  ],
  "explanationUrl": {}
}