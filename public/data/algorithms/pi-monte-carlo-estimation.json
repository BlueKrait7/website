{
  "slug": "pi-monte-carlo-estimation",
  "name": "Pi Monte Carlo Estimation",
  "categories": [
    "math"
  ],
  "body": {},
  "implementations": {
    "python": {
      "dir": "maths\\pi_monte_carlo_estimation.py",
      "url": "https://github.com/TheAlgorithms/python/tree/master/maths\\pi_monte_carlo_estimation.py",
      "code": "<span class=\"hljs-keyword\">import</span> random\r\n\r\n\r\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Point</span>:\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self, x: <span class=\"hljs-built_in\">float</span>, y: <span class=\"hljs-built_in\">float</span></span>) -&gt; <span class=\"hljs-literal\">None</span>:\r\n        self.x = x\r\n        self.y = y\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">is_in_unit_circle</span>(<span class=\"hljs-params\">self</span>) -&gt; <span class=\"hljs-built_in\">bool</span>:\r\n        <span class=\"hljs-string\">&quot;&quot;&quot;\r\n        True, if the point lies in the unit circle\r\n        False, otherwise\r\n        &quot;&quot;&quot;</span>\r\n        <span class=\"hljs-keyword\">return</span> (self.x**<span class=\"hljs-number\">2</span> + self.y**<span class=\"hljs-number\">2</span>) &lt;= <span class=\"hljs-number\">1</span>\r\n\r\n<span class=\"hljs-meta\">    @classmethod</span>\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">random_unit_square</span>(<span class=\"hljs-params\">cls</span>):\r\n        <span class=\"hljs-string\">&quot;&quot;&quot;\r\n        Generates a point randomly drawn from the unit square [0, 1) x [0, 1).\r\n        &quot;&quot;&quot;</span>\r\n        <span class=\"hljs-keyword\">return</span> cls(x=random.random(), y=random.random())\r\n\r\n\r\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">estimate_pi</span>(<span class=\"hljs-params\">number_of_simulations: <span class=\"hljs-built_in\">int</span></span>) -&gt; <span class=\"hljs-built_in\">float</span>:\r\n    <span class=\"hljs-string\">&quot;&quot;&quot;\r\n    Generates an estimate of the mathematical constant PI.\r\n    See https://en.wikipedia.org/wiki/Monte_Carlo_method#Overview\r\n\r\n    The estimate is generated by Monte Carlo simulations. Let U be uniformly drawn from\r\n    the unit square [0, 1) x [0, 1). The probability that U lies in the unit circle is:\r\n\r\n        P[U in unit circle] = 1/4 PI\r\n\r\n    and therefore\r\n\r\n        PI = 4 * P[U in unit circle]\r\n\r\n    We can get an estimate of the probability P[U in unit circle].\r\n    See https://en.wikipedia.org/wiki/Empirical_probability by:\r\n\r\n        1. Draw a point uniformly from the unit square.\r\n        2. Repeat the first step n times and count the number of points in the unit\r\n            circle, which is called m.\r\n        3. An estimate of P[U in unit circle] is m/n\r\n    &quot;&quot;&quot;</span>\r\n    <span class=\"hljs-keyword\">if</span> number_of_simulations &lt; <span class=\"hljs-number\">1</span>:\r\n        <span class=\"hljs-keyword\">raise</span> ValueError(<span class=\"hljs-string\">&quot;At least one simulation is necessary to estimate PI.&quot;</span>)\r\n\r\n    number_in_unit_circle = <span class=\"hljs-number\">0</span>\r\n    <span class=\"hljs-keyword\">for</span> simulation_index <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(number_of_simulations):\r\n        random_point = Point.random_unit_square()\r\n\r\n        <span class=\"hljs-keyword\">if</span> random_point.is_in_unit_circle():\r\n            number_in_unit_circle += <span class=\"hljs-number\">1</span>\r\n\r\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">4</span> * number_in_unit_circle / number_of_simulations\r\n\r\n\r\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&quot;__main__&quot;</span>:\r\n    <span class=\"hljs-comment\"># import doctest</span>\r\n\r\n    <span class=\"hljs-comment\"># doctest.testmod()</span>\r\n    <span class=\"hljs-keyword\">from</span> math <span class=\"hljs-keyword\">import</span> pi\r\n\r\n    prompt = <span class=\"hljs-string\">&quot;Please enter the desired number of Monte Carlo simulations: &quot;</span>\r\n    my_pi = estimate_pi(<span class=\"hljs-built_in\">int</span>(<span class=\"hljs-built_in\">input</span>(prompt).strip()))\r\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;An estimate of PI is <span class=\"hljs-subst\">{my_pi}</span> with an error of <span class=\"hljs-subst\">{<span class=\"hljs-built_in\">abs</span>(my_pi - pi)}</span>&quot;</span>)\r\n"
    }
  },
  "contributors": [
    {
      "name": "cschuerc",
      "email": "57899042+cschuerc@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Christian Clauss",
      "email": "cclauss@me.com",
      "commits": 3
    }
  ],
  "explanationUrl": {}
}