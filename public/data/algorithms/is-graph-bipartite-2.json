{
  "slug": "is-graph-bipartite-2",
  "name": "Is Graph Bipartite 2",
  "categories": [
    "graphs"
  ],
  "body": {},
  "implementations": {
    "c-plus-plus": {
      "dir": "graph\\is_graph_bipartite2.cpp",
      "url": "https://github.com/TheAlgorithms/c-plus-plus/tree/master/graph\\is_graph_bipartite2.cpp",
      "code": "<span class=\"hljs-comment\">/**\r\n * @brief Check whether a given graph is bipartite or not\r\n * @details\r\n * A bipartite graph is the one whose nodes can be divided into two\r\n * disjoint sets in such a way that the nodes in a set are not\r\n * connected to each other at all, i.e. no intra-set connections.\r\n * The only connections that exist are that of inter-set,\r\n * i.e. the nodes from one set are connected to a subset of nodes\r\n * in the other set.\r\n * In this implementation, using a graph in the form of adjacency\r\n * list, check whether the given graph is a bipartite or not.\r\n *\r\n * References used:\r\n * [GeeksForGeeks](https://www.geeksforgeeks.org/bipartite-graph/)\r\n * @author [tushar2407](https://github.com/tushar2407)\r\n */</span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;cassert&gt;</span>   <span class=\"hljs-comment\">/// for assert</span></span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;iostream&gt;</span>  <span class=\"hljs-comment\">/// for IO operations</span></span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;queue&gt;</span>     <span class=\"hljs-comment\">/// for queue data structure</span></span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;vector&gt;</span>    <span class=\"hljs-comment\">/// for vector data structure</span></span>\r\n\r\n<span class=\"hljs-comment\">/**\r\n * @namespace graph\r\n * @brief Graphical algorithms\r\n */</span>\r\n<span class=\"hljs-keyword\">namespace</span> graph {\r\n<span class=\"hljs-comment\">/**\r\n * @brief function to check whether the passed graph is bipartite or not\r\n * @param graph is a 2D matrix whose rows or the first index signify the node\r\n * and values in that row signify the nodes it is connected to\r\n * @param index is the valus of the node currently under observation\r\n * @param visited is the vector which stores whether a given node has been\r\n * traversed or not yet\r\n * @returns boolean\r\n */</span>\r\n<span class=\"hljs-function\"><span class=\"hljs-type\">bool</span> <span class=\"hljs-title\">checkBipartite</span><span class=\"hljs-params\">(<span class=\"hljs-type\">const</span> std::vector&lt;std::vector&lt;<span class=\"hljs-type\">int64_t</span>&gt;&gt; &amp;graph,\r\n                    <span class=\"hljs-type\">int64_t</span> index, std::vector&lt;<span class=\"hljs-type\">int64_t</span>&gt; *visited)</span> </span>{\r\n    std::queue&lt;<span class=\"hljs-type\">int64_t</span>&gt; q;  <span class=\"hljs-comment\">///&lt; stores the neighbouring node indexes in squence</span>\r\n                            <span class=\"hljs-comment\">/// of being reached</span>\r\n    q.<span class=\"hljs-built_in\">push</span>(index);          <span class=\"hljs-comment\">/// insert the current node into the queue</span>\r\n    (*visited)[index] = <span class=\"hljs-number\">1</span>;  <span class=\"hljs-comment\">/// mark the current node as travelled</span>\r\n    <span class=\"hljs-keyword\">while</span> (q.<span class=\"hljs-built_in\">size</span>()) {\r\n        <span class=\"hljs-type\">int64_t</span> u = q.<span class=\"hljs-built_in\">front</span>();\r\n        q.<span class=\"hljs-built_in\">pop</span>();\r\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">uint64_t</span> i = <span class=\"hljs-number\">0</span>; i &lt; graph[u].<span class=\"hljs-built_in\">size</span>(); i++) {\r\n            <span class=\"hljs-type\">int64_t</span> v =\r\n                graph[u][i];     <span class=\"hljs-comment\">///&lt; stores the neighbour of the current node</span>\r\n            <span class=\"hljs-keyword\">if</span> (!(*visited)[v])  <span class=\"hljs-comment\">/// check whether the neighbour node is</span>\r\n                                 <span class=\"hljs-comment\">/// travelled already or not</span>\r\n            {\r\n                (*visited)[v] =\r\n                    ((*visited)[u] == <span class=\"hljs-number\">1</span>)\r\n                        ? <span class=\"hljs-number\">-1</span>\r\n                        : <span class=\"hljs-number\">1</span>;  <span class=\"hljs-comment\">/// colour the neighbouring node with</span>\r\n                              <span class=\"hljs-comment\">/// different colour than the current node</span>\r\n                q.<span class=\"hljs-built_in\">push</span>(v);    <span class=\"hljs-comment\">/// insert the neighbouring node into the queue</span>\r\n            } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> ((*visited)[v] ==\r\n                       (*visited)[u])  <span class=\"hljs-comment\">/// if both the current node and its</span>\r\n                                       <span class=\"hljs-comment\">/// neighbour has the same state then it</span>\r\n                                       <span class=\"hljs-comment\">/// is not a bipartite graph</span>\r\n            {\r\n                <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>;\r\n            }\r\n        }\r\n    }\r\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>;  <span class=\"hljs-comment\">/// return true when all the connected nodes of the current</span>\r\n                  <span class=\"hljs-comment\">/// nodes are travelled and satisify all the above conditions</span>\r\n}\r\n<span class=\"hljs-comment\">/**\r\n * @brief returns true if the given graph is bipartite else returns false\r\n * @param graph is a 2D matrix whose rows or the first index signify the node\r\n * and values in that row signify the nodes it is connected to\r\n * @returns booleans\r\n */</span>\r\n<span class=\"hljs-function\"><span class=\"hljs-type\">bool</span> <span class=\"hljs-title\">isBipartite</span><span class=\"hljs-params\">(<span class=\"hljs-type\">const</span> std::vector&lt;std::vector&lt;<span class=\"hljs-type\">int64_t</span>&gt;&gt; &amp;graph)</span> </span>{\r\n    <span class=\"hljs-function\">std::vector&lt;<span class=\"hljs-type\">int64_t</span>&gt; <span class=\"hljs-title\">visited</span><span class=\"hljs-params\">(\r\n        graph.size())</span></span>;  <span class=\"hljs-comment\">///&lt; stores boolean values</span>\r\n                        <span class=\"hljs-comment\">/// which signify whether that node had been visited or</span>\r\n                        <span class=\"hljs-comment\">/// not</span>\r\n\r\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">uint64_t</span> i = <span class=\"hljs-number\">0</span>; i &lt; graph.<span class=\"hljs-built_in\">size</span>(); i++) {\r\n        <span class=\"hljs-keyword\">if</span> (!visited[i])  <span class=\"hljs-comment\">/// if the current node is not visited then check</span>\r\n                          <span class=\"hljs-comment\">/// whether the sub-graph of that node is a bipartite</span>\r\n                          <span class=\"hljs-comment\">/// or not</span>\r\n        {\r\n            <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-built_in\">checkBipartite</span>(graph, i, &amp;visited)) {\r\n                <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>;\r\n            }\r\n        }\r\n    }\r\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>;\r\n}\r\n}  <span class=\"hljs-comment\">// namespace graph</span>\r\n\r\n<span class=\"hljs-comment\">/**\r\n * @brief Self-test implementations\r\n * @returns void\r\n */</span>\r\n<span class=\"hljs-function\"><span class=\"hljs-type\">static</span> <span class=\"hljs-type\">void</span> <span class=\"hljs-title\">test</span><span class=\"hljs-params\">()</span> </span>{\r\n    std::vector&lt;std::vector&lt;<span class=\"hljs-type\">int64_t</span>&gt;&gt; graph = {{<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">3</span>}, {<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">2</span>}, {<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">3</span>}, {<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">2</span>}};\r\n\r\n    <span class=\"hljs-built_in\">assert</span>(graph::<span class=\"hljs-built_in\">isBipartite</span>(graph) ==\r\n           <span class=\"hljs-literal\">true</span>);  <span class=\"hljs-comment\">/// check whether the above</span>\r\n                   <span class=\"hljs-comment\">/// defined graph is indeed bipartite</span>\r\n\r\n    std::vector&lt;std::vector&lt;<span class=\"hljs-type\">int64_t</span>&gt;&gt; graph_not_bipartite = {\r\n        {<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>}, {<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">2</span>}, {<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">3</span>}, {<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">2</span>}};\r\n\r\n    <span class=\"hljs-built_in\">assert</span>(graph::<span class=\"hljs-built_in\">isBipartite</span>(graph_not_bipartite) ==\r\n           <span class=\"hljs-literal\">false</span>);  <span class=\"hljs-comment\">/// check whether</span>\r\n                    <span class=\"hljs-comment\">/// the above defined graph is indeed bipartite</span>\r\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;All tests have successfully passed!\\n&quot;</span>;\r\n}\r\n<span class=\"hljs-comment\">/**\r\n * @brief Main function\r\n * Instantitates a dummy graph of a small size with\r\n * a few edges between random nodes.\r\n * On applying the algorithm, it checks if the instantiated\r\n * graph is bipartite or not.\r\n * @returns 0 on exit\r\n */</span>\r\n<span class=\"hljs-function\"><span class=\"hljs-type\">int</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span> </span>{\r\n    <span class=\"hljs-built_in\">test</span>();  <span class=\"hljs-comment\">// run self-test implementations</span>\r\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\r\n}\r\n"
    }
  },
  "contributors": [
    {
      "name": "ggkogkou",
      "email": "76820848+ggkogkou@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Tushar Mohan",
      "email": "tushar.mohan2001@gmail.com",
      "commits": 1
    }
  ],
  "explanationUrl": {}
}