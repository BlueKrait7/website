{
  "slug": "kmp-substring-search",
  "name": "Kmp Substring Search",
  "categories": [
    "strings"
  ],
  "body": {},
  "implementations": {
    "julia": {
      "dir": "src\\strings\\kmp_substring_search.jl",
      "url": "https://github.com/TheAlgorithms/julia/tree/master/src\\strings\\kmp_substring_search.jl",
      "code": "<span class=\"hljs-string\">&quot;&quot;&quot;\r\n    GetIndexWithKMP(string::String, sub_string::String, ignore_case::Bool)::Int\r\n\r\nFind if a string contain a given sub string with KMP Search, as an explanation might be too lengthy\r\nAs such, a detailed explanation can be found at https://towardsdatascience.com/pattern-search-with-the-knuth-morris-pratt-kmp-algorithm-8562407dba5b\r\n\r\n\r\nQuestions and answers\r\n1. Why KMP instead of naive search?\r\n- Given n = length of string , m = length of string P\r\n- Then, the naive search will have time complexity O(mn) to find all occurrences of pattern P in S\r\n- However, knuth-morris-pratt (KMP) algorithm will have tim complexity of O(m+n) to find all occurrences of pattern P in S\r\n- Hence, KMP is more efficient than the naive approach\r\n\r\n\r\nExample\r\n\r\n```julia\r\nGetIndexWithKMP(&quot;Hello I am Gervin&quot;, &quot;Hello I am Gervin&quot;, false) # returns 1\r\nGetIndexWithKMP(&quot;ABABDABACDABABCABAB&quot;, &quot;ABABCABAB&quot;, false) # returns 11\r\nGetIndexWithKMP(&quot;SeEms Like IgNOrE CaSe Work&quot;, &quot;seems like ignore case work&quot;, true) # returns 1\r\n```\r\n\r\nContributed By:- [Gervin Fung](https://github.com/GervinFung)\r\nNote: This function will also allow ignoring cases also\r\n\r\n&quot;&quot;&quot;</span>\r\n\r\n\r\n<span class=\"hljs-comment\"># by convention -1 will be returned if the string does not contain the sub-string given</span>\r\n<span class=\"hljs-comment\"># in this case, 0 will be returned for Julia with start index of 1</span>\r\n<span class=\"hljs-comment\"># reason is that -1 is for language with start index of 0</span>\r\n<span class=\"hljs-comment\"># Should be convenient for others as most programming language use -1 if the string does not contain the sub-string given</span>\r\n<span class=\"hljs-keyword\">const</span> NO_SUBSTRING_INDEX = <span class=\"hljs-number\">0</span>\r\n<span class=\"hljs-comment\"># 1 is the first index, unlike others, where 0 is the first index</span>\r\n<span class=\"hljs-comment\"># Should be convenient for others as most programming language use 0 as first index</span>\r\n<span class=\"hljs-keyword\">const</span> JULIA_FIRST_INDEX = <span class=\"hljs-number\">1</span>\r\n\r\n<span class=\"hljs-keyword\">function</span> create_suffic_array(pattern_length::<span class=\"hljs-built_in\">Int</span>, sub_string::<span class=\"hljs-built_in\">String</span>)::<span class=\"hljs-built_in\">Vector</span>{<span class=\"hljs-built_in\">Int</span>}\r\n\r\n    <span class=\"hljs-comment\"># Longest Proper Prefix which is Suffix array</span>\r\n    lps::<span class=\"hljs-built_in\">Vector</span>{<span class=\"hljs-built_in\">Int</span>} = ones(<span class=\"hljs-built_in\">Int</span>, pattern_length)\r\n\r\n    index::<span class=\"hljs-built_in\">Int</span> = JULIA_FIRST_INDEX\r\n    i::<span class=\"hljs-built_in\">Int</span> = <span class=\"hljs-number\">1</span> + JULIA_FIRST_INDEX\r\n\r\n    <span class=\"hljs-keyword\">while</span> (i &lt; pattern_length)\r\n        <span class=\"hljs-keyword\">if</span> sub_string[i] == sub_string[index]\r\n            lps[i] = index + <span class=\"hljs-number\">1</span>;\r\n            index += <span class=\"hljs-number\">1</span>;\r\n            i += <span class=\"hljs-number\">1</span>;\r\n        <span class=\"hljs-keyword\">else</span>\r\n            <span class=\"hljs-keyword\">if</span> index != <span class=\"hljs-number\">1</span>\r\n                index = lps[index - <span class=\"hljs-number\">1</span>]\r\n            <span class=\"hljs-keyword\">else</span>\r\n                lps[i] = <span class=\"hljs-number\">1</span>\r\n                i += <span class=\"hljs-number\">1</span>\r\n            <span class=\"hljs-keyword\">end</span>\r\n        <span class=\"hljs-keyword\">end</span>\r\n    <span class=\"hljs-keyword\">end</span>\r\n\r\n    <span class=\"hljs-keyword\">return</span> lps\r\n<span class=\"hljs-keyword\">end</span>\r\n\r\n<span class=\"hljs-comment\"># this function will be used to obtain the index which the substring was found</span>\r\n<span class=\"hljs-keyword\">function</span> get_index_with_kmp(string::<span class=\"hljs-built_in\">String</span>, sub_string::<span class=\"hljs-built_in\">String</span>, ignore_case::<span class=\"hljs-built_in\">Bool</span>)::<span class=\"hljs-built_in\">Int</span>\r\n\r\n    string = ignore_case ? lowercase(string) : string\r\n    sub_string = ignore_case ? lowercase(sub_string) : sub_string\r\n\r\n    string_length::<span class=\"hljs-built_in\">Int</span> = length(string)\r\n    substring_length::<span class=\"hljs-built_in\">Int</span> = length(sub_string)\r\n\r\n    lps::<span class=\"hljs-built_in\">Vector</span>{<span class=\"hljs-built_in\">Int</span>} = create_suffic_array(substring_length, sub_string)\r\n\r\n    <span class=\"hljs-comment\"># likewise, 1 is the first index, unlike others, where 0 is the first index</span>\r\n    i::<span class=\"hljs-built_in\">Int</span> = JULIA_FIRST_INDEX\r\n    j::<span class=\"hljs-built_in\">Int</span> = JULIA_FIRST_INDEX\r\n\r\n    <span class=\"hljs-keyword\">while</span> i &lt; string_length + <span class=\"hljs-number\">1</span> &amp;&amp; j &lt; substring_length + <span class=\"hljs-number\">1</span>\r\n        <span class=\"hljs-keyword\">if</span> string[i] == sub_string[j]\r\n            i += <span class=\"hljs-number\">1</span>\r\n            j += <span class=\"hljs-number\">1</span>\r\n        <span class=\"hljs-keyword\">else</span>\r\n            <span class=\"hljs-keyword\">if</span> j != <span class=\"hljs-number\">1</span>\r\n                j = lps[j - <span class=\"hljs-number\">1</span>]\r\n            <span class=\"hljs-keyword\">else</span>\r\n                i += <span class=\"hljs-number\">1</span>\r\n            <span class=\"hljs-keyword\">end</span>\r\n        <span class=\"hljs-keyword\">end</span>\r\n    <span class=\"hljs-keyword\">end</span>\r\n\r\n    <span class=\"hljs-keyword\">return</span> j == substring_length + <span class=\"hljs-number\">1</span> ? i - j + <span class=\"hljs-number\">1</span> : NO_SUBSTRING_INDEX\r\n<span class=\"hljs-keyword\">end</span>\r\n\r\n<span class=\"hljs-comment\"># optional function that returns boolean if string does contain the sub-string given</span>\r\n<span class=\"hljs-keyword\">function</span> contain_substring_with_kmp(string::<span class=\"hljs-built_in\">String</span>, sub_string::<span class=\"hljs-built_in\">String</span>, ignore_case::<span class=\"hljs-built_in\">Bool</span>)::<span class=\"hljs-built_in\">Bool</span>\r\n    <span class=\"hljs-keyword\">return</span> get_index_with_kmp(string, sub_string, ignore_case) != NO_SUBSTRING_INDEX\r\n<span class=\"hljs-keyword\">end</span>\r\n"
    }
  },
  "contributors": [
    {
      "name": "PoolOfDeath20",
      "email": "53143214+GervinFung@users.noreply.github.com",
      "commits": 2
    },
    {
      "name": "PoolOfDeath20",
      "email": "gervinfungdaxuen@gmail.com",
      "commits": 3
    }
  ],
  "explanationUrl": {}
}