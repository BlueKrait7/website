{
  "slug": "k-means-clustering",
  "name": "K Means Clustering",
  "categories": [
    "machinelearning"
  ],
  "body": {},
  "implementations": {
    "c": {
      "dir": "machine_learning\\k_means_clustering.c",
      "url": "https://github.com/TheAlgorithms/c/tree/master/machine_learning\\k_means_clustering.c",
      "code": "<span class=\"hljs-comment\">/**\r\n * @file k_means_clustering.c\r\n * @brief K Means Clustering Algorithm implemented\r\n * @details\r\n * This file has K Means algorithm implemmented\r\n * It prints test output in eps format\r\n *\r\n * Note:\r\n * Though the code for clustering works for all the\r\n * 2D data points and can be extended for any size vector\r\n * by making the required changes, but note that\r\n * the output method i.e. printEPS is only good for\r\n * polar data points i.e. in a circle and both test\r\n * use the same.\r\n * @author [Lakhan Nad](https://github.com/Lakhan-Nad)\r\n */</span>\r\n\r\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">define</span> _USE_MATH_DEFINES <span class=\"hljs-comment\">/* required for MS Visual C */</span></span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;float.h&gt;</span>        <span class=\"hljs-comment\">/* DBL_MAX, DBL_MIN */</span></span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;math.h&gt;</span>         <span class=\"hljs-comment\">/* PI, sin, cos */</span></span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;stdio.h&gt;</span>        <span class=\"hljs-comment\">/* printf */</span></span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;stdlib.h&gt;</span>       <span class=\"hljs-comment\">/* rand */</span></span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;string.h&gt;</span>       <span class=\"hljs-comment\">/* memset */</span></span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;time.h&gt;</span>         <span class=\"hljs-comment\">/* time */</span></span>\r\n\r\n<span class=\"hljs-comment\">/*!\r\n * @addtogroup machine_learning Machine Learning Algorithms\r\n * @{\r\n * @addtogroup k_means K-Means Clustering Algorithm\r\n * @{\r\n */</span>\r\n\r\n<span class=\"hljs-comment\">/*! @struct observation\r\n *  a class to store points in 2d plane\r\n *  the name observation is used to denote\r\n *  a random point in plane\r\n */</span>\r\n<span class=\"hljs-keyword\">typedef</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">struct</span> <span class=\"hljs-title\">observation</span>\r\n{</span>\r\n    <span class=\"hljs-type\">double</span> x;  <span class=\"hljs-comment\">/**&lt; abscissa of 2D data point */</span>\r\n    <span class=\"hljs-type\">double</span> y;  <span class=\"hljs-comment\">/**&lt; ordinate of 2D data point */</span>\r\n    <span class=\"hljs-type\">int</span> group; <span class=\"hljs-comment\">/**&lt; the group no in which this observation would go */</span>\r\n} observation;\r\n\r\n<span class=\"hljs-comment\">/*! @struct cluster\r\n *  this class stores the coordinates\r\n *  of centroid of all the points\r\n *  in that cluster it also\r\n *  stores the count of observations\r\n *  belonging to this cluster\r\n */</span>\r\n<span class=\"hljs-keyword\">typedef</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">struct</span> <span class=\"hljs-title\">cluster</span>\r\n{</span>\r\n    <span class=\"hljs-type\">double</span> x;     <span class=\"hljs-comment\">/**&lt; abscissa centroid of this cluster */</span>\r\n    <span class=\"hljs-type\">double</span> y;     <span class=\"hljs-comment\">/**&lt; ordinate of centroid of this cluster */</span>\r\n    <span class=\"hljs-type\">size_t</span> count; <span class=\"hljs-comment\">/**&lt; count of observations present in this cluster */</span>\r\n} cluster;\r\n\r\n<span class=\"hljs-comment\">/*!\r\n * Returns the index of centroid nearest to\r\n * given observation\r\n *\r\n * @param o  observation\r\n * @param clusters  array of cluster having centroids coordinates\r\n * @param k  size of clusters array\r\n *\r\n * @returns the index of nearest centroid for given observation\r\n */</span>\r\n<span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">calculateNearst</span><span class=\"hljs-params\">(observation* o, cluster clusters[], <span class=\"hljs-type\">int</span> k)</span>\r\n{\r\n    <span class=\"hljs-type\">double</span> minD = DBL_MAX;\r\n    <span class=\"hljs-type\">double</span> dist = <span class=\"hljs-number\">0</span>;\r\n    <span class=\"hljs-type\">int</span> index = <span class=\"hljs-number\">-1</span>;\r\n    <span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>;\r\n    <span class=\"hljs-keyword\">for</span> (; i &lt; k; i++)\r\n    {\r\n        <span class=\"hljs-comment\">/* Calculate Squared Distance*/</span>\r\n        dist = (clusters[i].x - o-&gt;x) * (clusters[i].x - o-&gt;x) +\r\n               (clusters[i].y - o-&gt;y) * (clusters[i].y - o-&gt;y);\r\n        <span class=\"hljs-keyword\">if</span> (dist &lt; minD)\r\n        {\r\n            minD = dist;\r\n            index = i;\r\n        }\r\n    }\r\n    <span class=\"hljs-keyword\">return</span> index;\r\n}\r\n\r\n<span class=\"hljs-comment\">/*!\r\n * Calculate centoid and assign it to the cluster variable\r\n *\r\n * @param observations  an array of observations whose centroid is calculated\r\n * @param size  size of the observations array\r\n * @param centroid  a reference to cluster object to store information of\r\n * centroid\r\n */</span>\r\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">calculateCentroid</span><span class=\"hljs-params\">(observation observations[], <span class=\"hljs-type\">size_t</span> size,\r\n                       cluster* centroid)</span>\r\n{\r\n    <span class=\"hljs-type\">size_t</span> i = <span class=\"hljs-number\">0</span>;\r\n    centroid-&gt;x = <span class=\"hljs-number\">0</span>;\r\n    centroid-&gt;y = <span class=\"hljs-number\">0</span>;\r\n    centroid-&gt;count = size;\r\n    <span class=\"hljs-keyword\">for</span> (; i &lt; size; i++)\r\n    {\r\n        centroid-&gt;x += observations[i].x;\r\n        centroid-&gt;y += observations[i].y;\r\n        observations[i].group = <span class=\"hljs-number\">0</span>;\r\n    }\r\n    centroid-&gt;x /= centroid-&gt;count;\r\n    centroid-&gt;y /= centroid-&gt;count;\r\n}\r\n\r\n<span class=\"hljs-comment\">/*!\r\n *    --K Means Algorithm--\r\n * 1. Assign each observation to one of k groups\r\n *    creating a random initial clustering\r\n * 2. Find the centroid of observations for each\r\n *    cluster to form new centroids\r\n * 3. Find the centroid which is nearest for each\r\n *    observation among the calculated centroids\r\n * 4. Assign the observation to its nearest centroid\r\n *    to create a new clustering.\r\n * 5. Repeat step 2,3,4 until there is no change\r\n *    the current clustering and is same as last\r\n *    clustering.\r\n *\r\n * @param observations  an array of observations to cluster\r\n * @param size  size of observations array\r\n * @param k  no of clusters to be made\r\n *\r\n * @returns pointer to cluster object\r\n */</span>\r\ncluster* <span class=\"hljs-title function_\">kMeans</span><span class=\"hljs-params\">(observation observations[], <span class=\"hljs-type\">size_t</span> size, <span class=\"hljs-type\">int</span> k)</span>\r\n{\r\n    cluster* clusters = <span class=\"hljs-literal\">NULL</span>;\r\n    <span class=\"hljs-keyword\">if</span> (k &lt;= <span class=\"hljs-number\">1</span>)\r\n    {\r\n        <span class=\"hljs-comment\">/*\r\n        If we have to cluster them only in one group\r\n        then calculate centroid of observations and\r\n        that will be a ingle cluster\r\n        */</span>\r\n        clusters = (cluster*)<span class=\"hljs-built_in\">malloc</span>(<span class=\"hljs-keyword\">sizeof</span>(cluster));\r\n        <span class=\"hljs-built_in\">memset</span>(clusters, <span class=\"hljs-number\">0</span>, <span class=\"hljs-keyword\">sizeof</span>(cluster));\r\n        calculateCentroid(observations, size, clusters);\r\n    }\r\n    <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (k &lt; size)\r\n    {\r\n        clusters = <span class=\"hljs-built_in\">malloc</span>(<span class=\"hljs-keyword\">sizeof</span>(cluster) * k);\r\n        <span class=\"hljs-built_in\">memset</span>(clusters, <span class=\"hljs-number\">0</span>, k * <span class=\"hljs-keyword\">sizeof</span>(cluster));\r\n        <span class=\"hljs-comment\">/* STEP 1 */</span>\r\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">size_t</span> j = <span class=\"hljs-number\">0</span>; j &lt; size; j++)\r\n        {\r\n            observations[j].group = rand() % k;\r\n        }\r\n        <span class=\"hljs-type\">size_t</span> changed = <span class=\"hljs-number\">0</span>;\r\n        <span class=\"hljs-type\">size_t</span> minAcceptedError =\r\n            size /\r\n            <span class=\"hljs-number\">10000</span>;  <span class=\"hljs-comment\">// Do until 99.99 percent points are in correct cluster</span>\r\n        <span class=\"hljs-type\">int</span> t = <span class=\"hljs-number\">0</span>;\r\n        <span class=\"hljs-keyword\">do</span>\r\n        {\r\n            <span class=\"hljs-comment\">/* Initialize clusters */</span>\r\n            <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; k; i++)\r\n            {\r\n                clusters[i].x = <span class=\"hljs-number\">0</span>;\r\n                clusters[i].y = <span class=\"hljs-number\">0</span>;\r\n                clusters[i].count = <span class=\"hljs-number\">0</span>;\r\n            }\r\n            <span class=\"hljs-comment\">/* STEP 2*/</span>\r\n            <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">size_t</span> j = <span class=\"hljs-number\">0</span>; j &lt; size; j++)\r\n            {\r\n                t = observations[j].group;\r\n                clusters[t].x += observations[j].x;\r\n                clusters[t].y += observations[j].y;\r\n                clusters[t].count++;\r\n            }\r\n            <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; k; i++)\r\n            {\r\n                clusters[i].x /= clusters[i].count;\r\n                clusters[i].y /= clusters[i].count;\r\n            }\r\n            <span class=\"hljs-comment\">/* STEP 3 and 4 */</span>\r\n            changed = <span class=\"hljs-number\">0</span>;  <span class=\"hljs-comment\">// this variable stores change in clustering</span>\r\n            <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">size_t</span> j = <span class=\"hljs-number\">0</span>; j &lt; size; j++)\r\n            {\r\n                t = calculateNearst(observations + j, clusters, k);\r\n                <span class=\"hljs-keyword\">if</span> (t != observations[j].group)\r\n                {\r\n                    changed++;\r\n                    observations[j].group = t;\r\n                }\r\n            }\r\n        } <span class=\"hljs-keyword\">while</span> (changed &gt; minAcceptedError);  <span class=\"hljs-comment\">// Keep on grouping until we have</span>\r\n                                               <span class=\"hljs-comment\">// got almost best clustering</span>\r\n    }\r\n    <span class=\"hljs-keyword\">else</span>\r\n    {\r\n        <span class=\"hljs-comment\">/* If no of clusters is more than observations\r\n           each observation can be its own cluster\r\n        */</span>\r\n        clusters = (cluster*)<span class=\"hljs-built_in\">malloc</span>(<span class=\"hljs-keyword\">sizeof</span>(cluster) * k);\r\n        <span class=\"hljs-built_in\">memset</span>(clusters, <span class=\"hljs-number\">0</span>, k * <span class=\"hljs-keyword\">sizeof</span>(cluster));\r\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> j = <span class=\"hljs-number\">0</span>; j &lt; size; j++)\r\n        {\r\n            clusters[j].x = observations[j].x;\r\n            clusters[j].y = observations[j].y;\r\n            clusters[j].count = <span class=\"hljs-number\">1</span>;\r\n            observations[j].group = j;\r\n        }\r\n    }\r\n    <span class=\"hljs-keyword\">return</span> clusters;\r\n}\r\n\r\n<span class=\"hljs-comment\">/**\r\n * @}\r\n * @}\r\n */</span>\r\n\r\n<span class=\"hljs-comment\">/*!\r\n * A function to print observations and clusters\r\n * The code is taken from\r\n * http://rosettacode.org/wiki/K-means%2B%2B_clustering.\r\n * Even the K Means code is also inspired from it\r\n *\r\n * @note To print in a file use pipeline operator\r\n * ```sh\r\n * ./k_means_clustering &gt; image.eps\r\n * ```\r\n *\r\n * @param observations  observations array\r\n * @param len  size of observation array\r\n * @param cent  clusters centroid&#x27;s array\r\n * @param k  size of cent array\r\n */</span>\r\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">printEPS</span><span class=\"hljs-params\">(observation pts[], <span class=\"hljs-type\">size_t</span> len, cluster cent[], <span class=\"hljs-type\">int</span> k)</span>\r\n{\r\n    <span class=\"hljs-type\">int</span> W = <span class=\"hljs-number\">400</span>, H = <span class=\"hljs-number\">400</span>;\r\n    <span class=\"hljs-type\">double</span> min_x = DBL_MAX, max_x = DBL_MIN, min_y = DBL_MAX, max_y = DBL_MIN;\r\n    <span class=\"hljs-type\">double</span> scale = <span class=\"hljs-number\">0</span>, cx = <span class=\"hljs-number\">0</span>, cy = <span class=\"hljs-number\">0</span>;\r\n    <span class=\"hljs-type\">double</span>* colors = (<span class=\"hljs-type\">double</span>*)<span class=\"hljs-built_in\">malloc</span>(<span class=\"hljs-keyword\">sizeof</span>(<span class=\"hljs-type\">double</span>) * (k * <span class=\"hljs-number\">3</span>));\r\n    <span class=\"hljs-type\">int</span> i;\r\n    <span class=\"hljs-type\">size_t</span> j;\r\n    <span class=\"hljs-type\">double</span> kd = k * <span class=\"hljs-number\">1.0</span>;\r\n    <span class=\"hljs-keyword\">for</span> (i = <span class=\"hljs-number\">0</span>; i &lt; k; i++)\r\n    {\r\n        *(colors + <span class=\"hljs-number\">3</span> * i) = (<span class=\"hljs-number\">3</span> * (i + <span class=\"hljs-number\">1</span>) % k) / kd;\r\n        *(colors + <span class=\"hljs-number\">3</span> * i + <span class=\"hljs-number\">1</span>) = (<span class=\"hljs-number\">7</span> * i % k) / kd;\r\n        *(colors + <span class=\"hljs-number\">3</span> * i + <span class=\"hljs-number\">2</span>) = (<span class=\"hljs-number\">9</span> * i % k) / kd;\r\n    }\r\n\r\n    <span class=\"hljs-keyword\">for</span> (j = <span class=\"hljs-number\">0</span>; j &lt; len; j++)\r\n    {\r\n        <span class=\"hljs-keyword\">if</span> (max_x &lt; pts[j].x)\r\n        {\r\n            max_x = pts[j].x;\r\n        }\r\n        <span class=\"hljs-keyword\">if</span> (min_x &gt; pts[j].x)\r\n        {\r\n            min_x = pts[j].x;\r\n        }\r\n        <span class=\"hljs-keyword\">if</span> (max_y &lt; pts[j].y)\r\n        {\r\n            max_y = pts[j].y;\r\n        }\r\n        <span class=\"hljs-keyword\">if</span> (min_y &gt; pts[j].y)\r\n        {\r\n            min_y = pts[j].y;\r\n        }\r\n    }\r\n    scale = W / (max_x - min_x);\r\n    <span class=\"hljs-keyword\">if</span> (scale &gt; (H / (max_y - min_y)))\r\n    {\r\n        scale = H / (max_y - min_y);\r\n    };\r\n    cx = (max_x + min_x) / <span class=\"hljs-number\">2</span>;\r\n    cy = (max_y + min_y) / <span class=\"hljs-number\">2</span>;\r\n\r\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;%%!PS-Adobe-3.0 EPSF-3.0\\n%%%%BoundingBox: -5 -5 %d %d\\n&quot;</span>, W + <span class=\"hljs-number\">10</span>,\r\n           H + <span class=\"hljs-number\">10</span>);\r\n    <span class=\"hljs-built_in\">printf</span>(\r\n        <span class=\"hljs-string\">&quot;/l {rlineto} def /m {rmoveto} def\\n&quot;</span>\r\n        <span class=\"hljs-string\">&quot;/c { .25 sub exch .25 sub exch .5 0 360 arc fill } def\\n&quot;</span>\r\n        <span class=\"hljs-string\">&quot;/s { moveto -2 0 m 2 2 l 2 -2 l -2 -2 l closepath &quot;</span>\r\n        <span class=\"hljs-string\">&quot;\tgsave 1 setgray fill grestore gsave 3 setlinewidth&quot;</span>\r\n        <span class=\"hljs-string\">&quot; 1 setgray stroke grestore 0 setgray stroke }def\\n&quot;</span>);\r\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; k; i++)\r\n    {\r\n        <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;%g %g %g setrgbcolor\\n&quot;</span>, *(colors + <span class=\"hljs-number\">3</span> * i),\r\n               *(colors + <span class=\"hljs-number\">3</span> * i + <span class=\"hljs-number\">1</span>), *(colors + <span class=\"hljs-number\">3</span> * i + <span class=\"hljs-number\">2</span>));\r\n        <span class=\"hljs-keyword\">for</span> (j = <span class=\"hljs-number\">0</span>; j &lt; len; j++)\r\n        {\r\n            <span class=\"hljs-keyword\">if</span> (pts[j].group != i)\r\n            {\r\n                <span class=\"hljs-keyword\">continue</span>;\r\n            }\r\n            <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;%.3f %.3f c\\n&quot;</span>, (pts[j].x - cx) * scale + W / <span class=\"hljs-number\">2</span>,\r\n                   (pts[j].y - cy) * scale + H / <span class=\"hljs-number\">2</span>);\r\n        }\r\n        <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;\\n0 setgray %g %g s\\n&quot;</span>, (cent[i].x - cx) * scale + W / <span class=\"hljs-number\">2</span>,\r\n               (cent[i].y - cy) * scale + H / <span class=\"hljs-number\">2</span>);\r\n    }\r\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;\\n%%%%EOF&quot;</span>);\r\n\r\n    <span class=\"hljs-comment\">// free accquired memory</span>\r\n    <span class=\"hljs-built_in\">free</span>(colors);\r\n}\r\n\r\n<span class=\"hljs-comment\">/*!\r\n * A function to test the kMeans function\r\n * Generates 100000 points in a circle of\r\n * radius 20.0 with center at (0,0)\r\n * and cluster them into 5 clusters\r\n *\r\n * &lt;img alt=&quot;Output for 100000 points divided in 5 clusters&quot; src=\r\n * &quot;https://raw.githubusercontent.com/TheAlgorithms/C/docs/images/machine_learning/k_means_clustering/kMeansTest1.png&quot;\r\n * width=&quot;400px&quot; heiggt=&quot;400px&quot;&gt;\r\n * @returns None\r\n */</span>\r\n<span class=\"hljs-type\">static</span> <span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">test</span><span class=\"hljs-params\">()</span>\r\n{\r\n    <span class=\"hljs-type\">size_t</span> size = <span class=\"hljs-number\">100000L</span>;\r\n    observation* observations =\r\n        (observation*)<span class=\"hljs-built_in\">malloc</span>(<span class=\"hljs-keyword\">sizeof</span>(observation) * size);\r\n    <span class=\"hljs-type\">double</span> maxRadius = <span class=\"hljs-number\">20.00</span>;\r\n    <span class=\"hljs-type\">double</span> radius = <span class=\"hljs-number\">0</span>;\r\n    <span class=\"hljs-type\">double</span> ang = <span class=\"hljs-number\">0</span>;\r\n    <span class=\"hljs-type\">size_t</span> i = <span class=\"hljs-number\">0</span>;\r\n    <span class=\"hljs-keyword\">for</span> (; i &lt; size; i++)\r\n    {\r\n        radius = maxRadius * ((<span class=\"hljs-type\">double</span>)rand() / RAND_MAX);\r\n        ang = <span class=\"hljs-number\">2</span> * M_PI * ((<span class=\"hljs-type\">double</span>)rand() / RAND_MAX);\r\n        observations[i].x = radius * <span class=\"hljs-built_in\">cos</span>(ang);\r\n        observations[i].y = radius * <span class=\"hljs-built_in\">sin</span>(ang);\r\n    }\r\n    <span class=\"hljs-type\">int</span> k = <span class=\"hljs-number\">5</span>;  <span class=\"hljs-comment\">// No of clusters</span>\r\n    cluster* clusters = kMeans(observations, size, k);\r\n    printEPS(observations, size, clusters, k);\r\n    <span class=\"hljs-comment\">// Free the accquired memory</span>\r\n    <span class=\"hljs-built_in\">free</span>(observations);\r\n    <span class=\"hljs-built_in\">free</span>(clusters);\r\n}\r\n\r\n<span class=\"hljs-comment\">/*!\r\n * A function to test the kMeans function\r\n * Generates 1000000 points in a circle of\r\n * radius 20.0 with center at (0,0)\r\n * and cluster them into 11 clusters\r\n *\r\n * &lt;img alt=&quot;Output for 1000000 points divided in 11 clusters&quot; src=\r\n * &quot;https://raw.githubusercontent.com/TheAlgorithms/C/docs/images/machine_learning/k_means_clustering/kMeansTest2.png&quot;\r\n * width=&quot;400px&quot; heiggt=&quot;400px&quot;&gt;\r\n * @returns None\r\n */</span>\r\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">test2</span><span class=\"hljs-params\">()</span>\r\n{\r\n    <span class=\"hljs-type\">size_t</span> size = <span class=\"hljs-number\">1000000L</span>;\r\n    observation* observations =\r\n        (observation*)<span class=\"hljs-built_in\">malloc</span>(<span class=\"hljs-keyword\">sizeof</span>(observation) * size);\r\n    <span class=\"hljs-type\">double</span> maxRadius = <span class=\"hljs-number\">20.00</span>;\r\n    <span class=\"hljs-type\">double</span> radius = <span class=\"hljs-number\">0</span>;\r\n    <span class=\"hljs-type\">double</span> ang = <span class=\"hljs-number\">0</span>;\r\n    <span class=\"hljs-type\">size_t</span> i = <span class=\"hljs-number\">0</span>;\r\n    <span class=\"hljs-keyword\">for</span> (; i &lt; size; i++)\r\n    {\r\n        radius = maxRadius * ((<span class=\"hljs-type\">double</span>)rand() / RAND_MAX);\r\n        ang = <span class=\"hljs-number\">2</span> * M_PI * ((<span class=\"hljs-type\">double</span>)rand() / RAND_MAX);\r\n        observations[i].x = radius * <span class=\"hljs-built_in\">cos</span>(ang);\r\n        observations[i].y = radius * <span class=\"hljs-built_in\">sin</span>(ang);\r\n    }\r\n    <span class=\"hljs-type\">int</span> k = <span class=\"hljs-number\">11</span>;  <span class=\"hljs-comment\">// No of clusters</span>\r\n    cluster* clusters = kMeans(observations, size, k);\r\n    printEPS(observations, size, clusters, k);\r\n    <span class=\"hljs-comment\">// Free the accquired memory</span>\r\n    <span class=\"hljs-built_in\">free</span>(observations);\r\n    <span class=\"hljs-built_in\">free</span>(clusters);\r\n}\r\n\r\n<span class=\"hljs-comment\">/*!\r\n * This function calls the test\r\n * function\r\n */</span>\r\n<span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">()</span>\r\n{\r\n    srand(time(<span class=\"hljs-literal\">NULL</span>));\r\n    test();\r\n    <span class=\"hljs-comment\">/* test2(); */</span>\r\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\r\n}\r\n"
    },
    "r": {
      "dir": "Clustering-Algorithms\\kmeans_clustering.R",
      "url": "https://github.com/TheAlgorithms/r/tree/master/Clustering-Algorithms\\kmeans_clustering.R",
      "code": "cl <span class=\"hljs-operator\">&lt;-</span> kmeans<span class=\"hljs-punctuation\">(</span>iris<span class=\"hljs-punctuation\">[</span><span class=\"hljs-punctuation\">,</span><span class=\"hljs-operator\">-</span><span class=\"hljs-number\">5</span><span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span> <span class=\"hljs-number\">3</span><span class=\"hljs-punctuation\">)</span>\r\nplot<span class=\"hljs-punctuation\">(</span>iris<span class=\"hljs-punctuation\">[</span><span class=\"hljs-punctuation\">,</span><span class=\"hljs-operator\">-</span><span class=\"hljs-number\">5</span><span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span> col <span class=\"hljs-operator\">=</span> cl<span class=\"hljs-operator\">$</span>cluster<span class=\"hljs-punctuation\">)</span>\r\npoints<span class=\"hljs-punctuation\">(</span>cl<span class=\"hljs-operator\">$</span>centers<span class=\"hljs-punctuation\">,</span> col <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span><span class=\"hljs-operator\">:</span><span class=\"hljs-number\">3</span><span class=\"hljs-punctuation\">,</span> pch <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">8</span><span class=\"hljs-punctuation\">)</span>\r\n"
    }
  },
  "contributors": [
    {
      "name": "lakhan_nad",
      "email": "lakhannad1999@gmail.com",
      "commits": 1
    },
    {
      "name": "Krishna Vedala",
      "email": "7001608+kvedala@users.noreply.github.com",
      "commits": 2
    },
    {
      "name": "Erez Shomron",
      "email": "48328872+eshom@users.noreply.github.com",
      "commits": 3
    }
  ],
  "explanationUrl": {}
}