{
  "slug": "credit-card-validator",
  "name": "Credit Card Validator",
  "categories": [
    "strings"
  ],
  "body": {},
  "implementations": {
    "python": {
      "dir": "strings\\credit_card_validator.py",
      "url": "https://github.com/TheAlgorithms/python/tree/master/strings\\credit_card_validator.py",
      "code": "<span class=\"hljs-string\">&quot;&quot;&quot;\r\nFunctions for testing the validity of credit card numbers.\r\n\r\nhttps://en.wikipedia.org/wiki/Luhn_algorithm\r\n&quot;&quot;&quot;</span>\r\n\r\n\r\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">validate_initial_digits</span>(<span class=\"hljs-params\">credit_card_number: <span class=\"hljs-built_in\">str</span></span>) -&gt; <span class=\"hljs-built_in\">bool</span>:\r\n    <span class=\"hljs-string\">&quot;&quot;&quot;\r\n    Function to validate initial digits of a given credit card number.\r\n    &gt;&gt;&gt; valid = &quot;4111111111111111 41111111111111 34 35 37 412345 523456 634567&quot;\r\n    &gt;&gt;&gt; all(validate_initial_digits(cc) for cc in valid.split())\r\n    True\r\n    &gt;&gt;&gt; invalid = &quot;14 25 76 32323 36111111111111&quot;\r\n    &gt;&gt;&gt; all(validate_initial_digits(cc) is False for cc in invalid.split())\r\n    True\r\n    &quot;&quot;&quot;</span>\r\n    <span class=\"hljs-keyword\">return</span> credit_card_number.startswith((<span class=\"hljs-string\">&quot;34&quot;</span>, <span class=\"hljs-string\">&quot;35&quot;</span>, <span class=\"hljs-string\">&quot;37&quot;</span>, <span class=\"hljs-string\">&quot;4&quot;</span>, <span class=\"hljs-string\">&quot;5&quot;</span>, <span class=\"hljs-string\">&quot;6&quot;</span>))\r\n\r\n\r\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">luhn_validation</span>(<span class=\"hljs-params\">credit_card_number: <span class=\"hljs-built_in\">str</span></span>) -&gt; <span class=\"hljs-built_in\">bool</span>:\r\n    <span class=\"hljs-string\">&quot;&quot;&quot;\r\n    Function to luhn algorithm validation for a given credit card number.\r\n    &gt;&gt;&gt; luhn_validation(&#x27;4111111111111111&#x27;)\r\n    True\r\n    &gt;&gt;&gt; luhn_validation(&#x27;36111111111111&#x27;)\r\n    True\r\n    &gt;&gt;&gt; luhn_validation(&#x27;41111111111111&#x27;)\r\n    False\r\n    &quot;&quot;&quot;</span>\r\n    cc_number = credit_card_number\r\n    total = <span class=\"hljs-number\">0</span>\r\n    half_len = <span class=\"hljs-built_in\">len</span>(cc_number) - <span class=\"hljs-number\">2</span>\r\n    <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(half_len, -<span class=\"hljs-number\">1</span>, -<span class=\"hljs-number\">2</span>):\r\n        <span class=\"hljs-comment\">#  double the value of every second digit</span>\r\n        digit = <span class=\"hljs-built_in\">int</span>(cc_number[i])\r\n        digit *= <span class=\"hljs-number\">2</span>\r\n        <span class=\"hljs-comment\"># If doubling of a number results in a two digit number</span>\r\n        <span class=\"hljs-comment\"># i.e greater than 9(e.g., 6 Ã— 2 = 12),</span>\r\n        <span class=\"hljs-comment\"># then add the digits of the product (e.g., 12: 1 + 2 = 3, 15: 1 + 5 = 6),</span>\r\n        <span class=\"hljs-comment\"># to get a single digit number.</span>\r\n        <span class=\"hljs-keyword\">if</span> digit &gt; <span class=\"hljs-number\">9</span>:\r\n            digit %= <span class=\"hljs-number\">10</span>\r\n            digit += <span class=\"hljs-number\">1</span>\r\n        cc_number = cc_number[:i] + <span class=\"hljs-built_in\">str</span>(digit) + cc_number[i + <span class=\"hljs-number\">1</span> :]\r\n        total += digit\r\n\r\n    <span class=\"hljs-comment\"># Sum up the remaining digits</span>\r\n    <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-built_in\">len</span>(cc_number) - <span class=\"hljs-number\">1</span>, -<span class=\"hljs-number\">1</span>, -<span class=\"hljs-number\">2</span>):\r\n        total += <span class=\"hljs-built_in\">int</span>(cc_number[i])\r\n\r\n    <span class=\"hljs-keyword\">return</span> total % <span class=\"hljs-number\">10</span> == <span class=\"hljs-number\">0</span>\r\n\r\n\r\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">validate_credit_card_number</span>(<span class=\"hljs-params\">credit_card_number: <span class=\"hljs-built_in\">str</span></span>) -&gt; <span class=\"hljs-built_in\">bool</span>:\r\n    <span class=\"hljs-string\">&quot;&quot;&quot;\r\n    Function to validate the given credit card number.\r\n    &gt;&gt;&gt; validate_credit_card_number(&#x27;4111111111111111&#x27;)\r\n    4111111111111111 is a valid credit card number.\r\n    True\r\n    &gt;&gt;&gt; validate_credit_card_number(&#x27;helloworld$&#x27;)\r\n    helloworld$ is an invalid credit card number because it has nonnumerical characters.\r\n    False\r\n    &gt;&gt;&gt; validate_credit_card_number(&#x27;32323&#x27;)\r\n    32323 is an invalid credit card number because of its length.\r\n    False\r\n    &gt;&gt;&gt; validate_credit_card_number(&#x27;32323323233232332323&#x27;)\r\n    32323323233232332323 is an invalid credit card number because of its length.\r\n    False\r\n    &gt;&gt;&gt; validate_credit_card_number(&#x27;36111111111111&#x27;)\r\n    36111111111111 is an invalid credit card number because of its first two digits.\r\n    False\r\n    &gt;&gt;&gt; validate_credit_card_number(&#x27;41111111111111&#x27;)\r\n    41111111111111 is an invalid credit card number because it fails the Luhn check.\r\n    False\r\n    &quot;&quot;&quot;</span>\r\n    error_message = <span class=\"hljs-string\">f&quot;<span class=\"hljs-subst\">{credit_card_number}</span> is an invalid credit card number because&quot;</span>\r\n    <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> credit_card_number.isdigit():\r\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;<span class=\"hljs-subst\">{error_message}</span> it has nonnumerical characters.&quot;</span>)\r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">False</span>\r\n\r\n    <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> <span class=\"hljs-number\">13</span> &lt;= <span class=\"hljs-built_in\">len</span>(credit_card_number) &lt;= <span class=\"hljs-number\">16</span>:\r\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;<span class=\"hljs-subst\">{error_message}</span> of its length.&quot;</span>)\r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">False</span>\r\n\r\n    <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> validate_initial_digits(credit_card_number):\r\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;<span class=\"hljs-subst\">{error_message}</span> of its first two digits.&quot;</span>)\r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">False</span>\r\n\r\n    <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> luhn_validation(credit_card_number):\r\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;<span class=\"hljs-subst\">{error_message}</span> it fails the Luhn check.&quot;</span>)\r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">False</span>\r\n\r\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;<span class=\"hljs-subst\">{credit_card_number}</span> is a valid credit card number.&quot;</span>)\r\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">True</span>\r\n\r\n\r\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&quot;__main__&quot;</span>:\r\n    <span class=\"hljs-keyword\">import</span> doctest\r\n\r\n    doctest.testmod()\r\n    validate_credit_card_number(<span class=\"hljs-string\">&quot;4111111111111111&quot;</span>)\r\n    validate_credit_card_number(<span class=\"hljs-string\">&quot;32323&quot;</span>)\r\n"
    }
  },
  "contributors": [
    {
      "name": "Christian Clauss",
      "email": "cclauss@me.com",
      "commits": 1
    },
    {
      "name": "@im_8055",
      "email": "38890773+Bhargavishnu@users.noreply.github.com",
      "commits": 2
    }
  ],
  "explanationUrl": {}
}