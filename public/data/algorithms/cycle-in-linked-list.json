{
  "slug": "cycle-in-linked-list",
  "name": "Cycle in Linked List",
  "categories": [
    "datastructures",
    "linkedlist"
  ],
  "body": {},
  "implementations": {
    "dart": {
      "dir": "data_structures\\linked_list\\cycle_in_linked_list.dart",
      "url": "https://github.com/TheAlgorithms/dart/tree/master/data_structures\\linked_list\\cycle_in_linked_list.dart",
      "code": "<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;dart:math&#x27;</span>;\r\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;package:test/test.dart&#x27;</span>;\r\n\r\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Node</span> </span>{\r\n  <span class=\"hljs-built_in\">int</span> value;\r\n  Node next = <span class=\"hljs-keyword\">null</span>;\r\n  Node(<span class=\"hljs-keyword\">this</span>.value);\r\n\r\n  <span class=\"hljs-built_in\">int</span> <span class=\"hljs-keyword\">get</span> nodeValue {\r\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>.value;\r\n  }\r\n\r\n  Node <span class=\"hljs-keyword\">get</span> nextNode {\r\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>.next;\r\n  }\r\n}\r\n\r\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">LinkedList</span> </span>{\r\n  Node _headNode;\r\n  Node _tailNode;\r\n\r\n  Node <span class=\"hljs-keyword\">get</span> head {\r\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>._headNode;\r\n  }\r\n\r\n  Node <span class=\"hljs-keyword\">get</span> tail {\r\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>._tailNode;\r\n  }\r\n\r\n  <span class=\"hljs-keyword\">void</span> insert(Node newNode) {\r\n    <span class=\"hljs-keyword\">if</span> (head == <span class=\"hljs-keyword\">null</span>) {\r\n      <span class=\"hljs-keyword\">this</span>._headNode = newNode;\r\n      <span class=\"hljs-keyword\">this</span>._tailNode = newNode;\r\n    } <span class=\"hljs-keyword\">else</span> {\r\n      <span class=\"hljs-keyword\">this</span>._tailNode.next = newNode;\r\n      <span class=\"hljs-keyword\">this</span>._tailNode = <span class=\"hljs-keyword\">this</span>._tailNode.next;\r\n    }\r\n  }\r\n}\r\n\r\nNode createNode(<span class=\"hljs-built_in\">int</span> value) {\r\n  <span class=\"hljs-keyword\">return</span> Node(value);\r\n}\r\n\r\nNode findCyclicNode(Node headNode) {\r\n  <span class=\"hljs-comment\">/// <span class=\"language-markdown\">Check : https://en.wikipedia.org/wiki/Cycle<span class=\"hljs-emphasis\">_detection</span></span></span>\r\n  <span class=\"hljs-comment\">/// <span class=\"language-markdown\"><span class=\"hljs-emphasis\">we maintain a fast and slow pointer</span></span></span>\r\n  <span class=\"hljs-comment\">/// <span class=\"language-markdown\"><span class=\"hljs-emphasis\">The fast pointer jumps 2 nodes at a time</span></span></span>\r\n  <span class=\"hljs-comment\">/// <span class=\"language-markdown\"><span class=\"hljs-emphasis\">and the slow pointer jumps one node at a time</span></span></span>\r\n  <span class=\"hljs-comment\">/// <span class=\"language-markdown\"><span class=\"hljs-emphasis\">eventually the fast and slow will coincide on a node</span></span></span>\r\n  <span class=\"hljs-comment\">///</span>\r\n  <span class=\"hljs-comment\">/// <span class=\"language-markdown\"><span class=\"hljs-emphasis\">Then we place one of the node back to the head.</span></span></span>\r\n  <span class=\"hljs-comment\">/// <span class=\"language-markdown\"><span class=\"hljs-emphasis\">The node where these two nodes coincide again will be the</span></span></span>\r\n  <span class=\"hljs-comment\">/// <span class=\"language-markdown\"><span class=\"hljs-emphasis\">origin of the loop node.</span></span></span>\r\n  <span class=\"hljs-comment\">/// <span class=\"language-markdown\"><span class=\"hljs-emphasis\">and move in tandem. check algorith for proof</span></span></span>\r\n  Node fastNode = headNode;\r\n  Node slowNode = headNode;\r\n\r\n  <span class=\"hljs-keyword\">while</span> (fastNode != <span class=\"hljs-keyword\">null</span> &amp;&amp; fastNode.next != <span class=\"hljs-keyword\">null</span>) {\r\n    slowNode = slowNode.next;\r\n    fastNode = fastNode.next.next;\r\n\r\n    <span class=\"hljs-keyword\">if</span> (slowNode == fastNode) {\r\n      <span class=\"hljs-keyword\">break</span>;\r\n    }\r\n  }\r\n\r\n  <span class=\"hljs-keyword\">if</span> (slowNode == fastNode) {\r\n    slowNode = headNode;\r\n    <span class=\"hljs-keyword\">while</span> (slowNode != fastNode) {\r\n      slowNode = slowNode.next;\r\n      fastNode = fastNode.next;\r\n    }\r\n    <span class=\"hljs-keyword\">return</span> slowNode;\r\n  } <span class=\"hljs-keyword\">else</span> {\r\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">null</span>;\r\n  }\r\n}\r\n\r\n<span class=\"hljs-keyword\">void</span> main() {\r\n  LinkedList linkedList = LinkedList();\r\n  <span class=\"hljs-built_in\">List</span>&lt;Node&gt; allNodes = <span class=\"hljs-built_in\">List</span>();\r\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt;= <span class=\"hljs-number\">10</span>; i++) {\r\n    Node newNode = createNode(i);\r\n    linkedList.insert(newNode);\r\n    allNodes.add(newNode);\r\n  }\r\n  Node tail = linkedList.tail;\r\n  Random random = <span class=\"hljs-keyword\">new</span> Random();\r\n\r\n  test((<span class=\"hljs-string\">&#x27;test 1&#x27;</span>), () {\r\n    <span class=\"hljs-built_in\">int</span> randomIndex = random.nextInt(<span class=\"hljs-number\">9</span>);\r\n    tail.next = allNodes[randomIndex];\r\n    Node cycleNode = findCyclicNode(linkedList.head);\r\n    expect(cycleNode, equals(allNodes[randomIndex]));\r\n  });\r\n  test((<span class=\"hljs-string\">&#x27;test 2&#x27;</span>), () {\r\n    <span class=\"hljs-built_in\">int</span> randomIndex = random.nextInt(<span class=\"hljs-number\">9</span>);\r\n    tail.next = allNodes[randomIndex];\r\n    Node cycleNode = findCyclicNode(linkedList.head);\r\n    expect(cycleNode, equals(allNodes[randomIndex]));\r\n  });\r\n\r\n  test((<span class=\"hljs-string\">&#x27;test 3&#x27;</span>), () {\r\n    <span class=\"hljs-built_in\">int</span> randomIndex = random.nextInt(<span class=\"hljs-number\">9</span>);\r\n    tail.next = allNodes[randomIndex];\r\n    Node cycleNode = findCyclicNode(linkedList.head);\r\n    expect(cycleNode, equals(allNodes[randomIndex]));\r\n  });\r\n\r\n  test((<span class=\"hljs-string\">&#x27;test 4&#x27;</span>), () {\r\n    <span class=\"hljs-built_in\">int</span> randomIndex = random.nextInt(<span class=\"hljs-number\">9</span>);\r\n    tail.next = allNodes[randomIndex];\r\n    Node cycleNode = findCyclicNode(linkedList.head);\r\n    expect(cycleNode, equals(allNodes[randomIndex]));\r\n  });\r\n\r\n  test((<span class=\"hljs-string\">&#x27;test 5&#x27;</span>), () {\r\n    <span class=\"hljs-built_in\">int</span> randomIndex = random.nextInt(<span class=\"hljs-number\">9</span>);\r\n    tail.next = allNodes[randomIndex];\r\n    Node cycleNode = findCyclicNode(linkedList.head);\r\n    expect(cycleNode, equals(allNodes[randomIndex]));\r\n  });\r\n\r\n  test((<span class=\"hljs-string\">&#x27;test 6&#x27;</span>), () {\r\n    <span class=\"hljs-built_in\">int</span> randomIndex = random.nextInt(<span class=\"hljs-number\">9</span>);\r\n    tail.next = allNodes[randomIndex];\r\n    Node cycleNode = findCyclicNode(linkedList.head);\r\n    expect(cycleNode, equals(allNodes[randomIndex]));\r\n  });\r\n\r\n  test((<span class=\"hljs-string\">&#x27;test 7&#x27;</span>), () {\r\n    <span class=\"hljs-built_in\">int</span> randomIndex = random.nextInt(<span class=\"hljs-number\">9</span>);\r\n    tail.next = allNodes[randomIndex];\r\n    Node cycleNode = findCyclicNode(linkedList.head);\r\n    expect(cycleNode, equals(allNodes[randomIndex]));\r\n  });\r\n}\r\n"
    }
  },
  "contributors": [
    {
      "name": "Akash G Krishnan",
      "email": "krishnanag1996@gmail.com",
      "commits": 1
    }
  ],
  "explanationUrl": {}
}