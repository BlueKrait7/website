{
  "slug": "knapsack",
  "name": "Knapsack",
  "categories": [
    "dynamicprogramming"
  ],
  "body": {},
  "implementations": {
    "python": {
      "dir": "knapsack\\knapsack.py",
      "url": "https://github.com/TheAlgorithms/python/tree/master/knapsack\\knapsack.py",
      "code": "<span class=\"hljs-string\">&quot;&quot;&quot; A naive recursive implementation of 0-1 Knapsack Problem\r\n    https://en.wikipedia.org/wiki/Knapsack_problem\r\n&quot;&quot;&quot;</span>\r\n<span class=\"hljs-keyword\">from</span> __future__ <span class=\"hljs-keyword\">import</span> annotations\r\n\r\n\r\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">knapsack</span>(<span class=\"hljs-params\">capacity: <span class=\"hljs-built_in\">int</span>, weights: <span class=\"hljs-built_in\">list</span>[<span class=\"hljs-built_in\">int</span>], values: <span class=\"hljs-built_in\">list</span>[<span class=\"hljs-built_in\">int</span>], counter: <span class=\"hljs-built_in\">int</span></span>) -&gt; <span class=\"hljs-built_in\">int</span>:\r\n    <span class=\"hljs-string\">&quot;&quot;&quot;\r\n    Returns the maximum value that can be put in a knapsack of a capacity cap,\r\n    whereby each weight w has a specific value val.\r\n\r\n    &gt;&gt;&gt; cap = 50\r\n    &gt;&gt;&gt; val = [60, 100, 120]\r\n    &gt;&gt;&gt; w = [10, 20, 30]\r\n    &gt;&gt;&gt; c = len(val)\r\n    &gt;&gt;&gt; knapsack(cap, w, val, c)\r\n    220\r\n\r\n    The result is 220 cause the values of 100 and 120 got the weight of 50\r\n    which is the limit of the capacity.\r\n    &quot;&quot;&quot;</span>\r\n\r\n    <span class=\"hljs-comment\"># Base Case</span>\r\n    <span class=\"hljs-keyword\">if</span> counter == <span class=\"hljs-number\">0</span> <span class=\"hljs-keyword\">or</span> capacity == <span class=\"hljs-number\">0</span>:\r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>\r\n\r\n    <span class=\"hljs-comment\"># If weight of the nth item is more than Knapsack of capacity,</span>\r\n    <span class=\"hljs-comment\">#   then this item cannot be included in the optimal solution,</span>\r\n    <span class=\"hljs-comment\"># else return the maximum of two cases:</span>\r\n    <span class=\"hljs-comment\">#   (1) nth item included</span>\r\n    <span class=\"hljs-comment\">#   (2) not included</span>\r\n    <span class=\"hljs-keyword\">if</span> weights[counter - <span class=\"hljs-number\">1</span>] &gt; capacity:\r\n        <span class=\"hljs-keyword\">return</span> knapsack(capacity, weights, values, counter - <span class=\"hljs-number\">1</span>)\r\n    <span class=\"hljs-keyword\">else</span>:\r\n        left_capacity = capacity - weights[counter - <span class=\"hljs-number\">1</span>]\r\n        new_value_included = values[counter - <span class=\"hljs-number\">1</span>] + knapsack(\r\n            left_capacity, weights, values, counter - <span class=\"hljs-number\">1</span>\r\n        )\r\n        without_new_value = knapsack(capacity, weights, values, counter - <span class=\"hljs-number\">1</span>)\r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">max</span>(new_value_included, without_new_value)\r\n\r\n\r\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&quot;__main__&quot;</span>:\r\n    <span class=\"hljs-keyword\">import</span> doctest\r\n\r\n    doctest.testmod()\r\n"
    },
    "c-plus-plus": {
      "dir": "greedy_algorithms\\knapsack.cpp",
      "url": "https://github.com/TheAlgorithms/c-plus-plus/tree/master/greedy_algorithms\\knapsack.cpp",
      "code": "<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;iostream&gt;</span></span>\r\n<span class=\"hljs-keyword\">using</span> <span class=\"hljs-keyword\">namespace</span> std;\r\n\r\n<span class=\"hljs-keyword\">struct</span> <span class=\"hljs-title class_\">Item</span> {\r\n    <span class=\"hljs-type\">int</span> weight;\r\n    <span class=\"hljs-type\">int</span> profit;\r\n};\r\n\r\n<span class=\"hljs-function\"><span class=\"hljs-type\">float</span> <span class=\"hljs-title\">profitPerUnit</span><span class=\"hljs-params\">(Item x)</span> </span>{ <span class=\"hljs-keyword\">return</span> (<span class=\"hljs-type\">float</span>)x.profit / (<span class=\"hljs-type\">float</span>)x.weight; }\r\n\r\n<span class=\"hljs-function\"><span class=\"hljs-type\">int</span> <span class=\"hljs-title\">partition</span><span class=\"hljs-params\">(Item arr[], <span class=\"hljs-type\">int</span> low, <span class=\"hljs-type\">int</span> high)</span> </span>{\r\n    Item pivot = arr[high];  <span class=\"hljs-comment\">// pivot</span>\r\n    <span class=\"hljs-type\">int</span> i = (low - <span class=\"hljs-number\">1</span>);       <span class=\"hljs-comment\">// Index of smaller element</span>\r\n\r\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> j = low; j &lt; high; j++) {\r\n        <span class=\"hljs-comment\">// If current element is smaller than or</span>\r\n        <span class=\"hljs-comment\">// equal to pivot</span>\r\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-built_in\">profitPerUnit</span>(arr[j]) &lt;= <span class=\"hljs-built_in\">profitPerUnit</span>(pivot)) {\r\n            i++;  <span class=\"hljs-comment\">// increment index of smaller element</span>\r\n            Item temp = arr[i];\r\n            arr[i] = arr[j];\r\n            arr[j] = temp;\r\n        }\r\n    }\r\n    Item temp = arr[i + <span class=\"hljs-number\">1</span>];\r\n    arr[i + <span class=\"hljs-number\">1</span>] = arr[high];\r\n    arr[high] = temp;\r\n    <span class=\"hljs-keyword\">return</span> (i + <span class=\"hljs-number\">1</span>);\r\n}\r\n\r\n<span class=\"hljs-function\"><span class=\"hljs-type\">void</span> <span class=\"hljs-title\">quickSort</span><span class=\"hljs-params\">(Item arr[], <span class=\"hljs-type\">int</span> low, <span class=\"hljs-type\">int</span> high)</span> </span>{\r\n    <span class=\"hljs-keyword\">if</span> (low &lt; high) {\r\n        <span class=\"hljs-type\">int</span> p = <span class=\"hljs-built_in\">partition</span>(arr, low, high);\r\n\r\n        <span class=\"hljs-built_in\">quickSort</span>(arr, low, p - <span class=\"hljs-number\">1</span>);\r\n        <span class=\"hljs-built_in\">quickSort</span>(arr, p + <span class=\"hljs-number\">1</span>, high);\r\n    }\r\n}\r\n\r\n<span class=\"hljs-function\"><span class=\"hljs-type\">int</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span> </span>{\r\n    cout &lt;&lt; <span class=\"hljs-string\">&quot;\\nEnter the capacity of the knapsack : &quot;</span>;\r\n    <span class=\"hljs-type\">float</span> capacity;\r\n    cin &gt;&gt; capacity;\r\n    cout &lt;&lt; <span class=\"hljs-string\">&quot;\\n Enter the number of Items : &quot;</span>;\r\n    <span class=\"hljs-type\">int</span> n;\r\n    cin &gt;&gt; n;\r\n    Item itemArray[n];\r\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; n; i++) {\r\n        cout &lt;&lt; <span class=\"hljs-string\">&quot;\\nEnter the weight and profit of item &quot;</span> &lt;&lt; i + <span class=\"hljs-number\">1</span> &lt;&lt; <span class=\"hljs-string\">&quot; : &quot;</span>;\r\n        cin &gt;&gt; itemArray[i].weight;\r\n        cin &gt;&gt; itemArray[i].profit;\r\n    }\r\n\r\n    <span class=\"hljs-built_in\">quickSort</span>(itemArray, <span class=\"hljs-number\">0</span>, n - <span class=\"hljs-number\">1</span>);\r\n\r\n    <span class=\"hljs-comment\">// show(itemArray, n);</span>\r\n\r\n    <span class=\"hljs-type\">float</span> maxProfit = <span class=\"hljs-number\">0</span>;\r\n    <span class=\"hljs-type\">int</span> i = n;\r\n    <span class=\"hljs-keyword\">while</span> (capacity &gt; <span class=\"hljs-number\">0</span> &amp;&amp; --i &gt;= <span class=\"hljs-number\">0</span>) {\r\n        <span class=\"hljs-keyword\">if</span> (capacity &gt;= itemArray[i].weight) {\r\n            maxProfit += itemArray[i].profit;\r\n            capacity -= itemArray[i].weight;\r\n            cout &lt;&lt; <span class=\"hljs-string\">&quot;\\n\\t&quot;</span> &lt;&lt; itemArray[i].weight &lt;&lt; <span class=\"hljs-string\">&quot;\\t&quot;</span>\r\n                 &lt;&lt; itemArray[i].profit;\r\n        } <span class=\"hljs-keyword\">else</span> {\r\n            maxProfit += <span class=\"hljs-built_in\">profitPerUnit</span>(itemArray[i]) * capacity;\r\n            cout &lt;&lt; <span class=\"hljs-string\">&quot;\\n\\t&quot;</span> &lt;&lt; capacity &lt;&lt; <span class=\"hljs-string\">&quot;\\t&quot;</span>\r\n                 &lt;&lt; <span class=\"hljs-built_in\">profitPerUnit</span>(itemArray[i]) * capacity;\r\n            capacity = <span class=\"hljs-number\">0</span>;\r\n            <span class=\"hljs-keyword\">break</span>;\r\n        }\r\n    }\r\n\r\n    cout &lt;&lt; <span class=\"hljs-string\">&quot;\\nMax Profit : &quot;</span> &lt;&lt; maxProfit;\r\n\r\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\r\n}\r\n"
    },
    "java": {
      "dir": "src\\main\\java\\com\\thealgorithms\\dynamicprogramming\\Knapsack.java",
      "url": "https://github.com/TheAlgorithms/java/tree/master/src\\main\\java\\com\\thealgorithms\\dynamicprogramming\\Knapsack.java",
      "code": "<span class=\"hljs-keyword\">package</span> com.thealgorithms.dynamicprogramming;\r\n\r\n<span class=\"hljs-comment\">/**\r\n * A DynamicProgramming based solution for 0-1 Knapsack problem\r\n */</span>\r\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Knapsack</span> {\r\n\r\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">knapSack</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> W, <span class=\"hljs-type\">int</span> wt[], <span class=\"hljs-type\">int</span> val[], <span class=\"hljs-type\">int</span> n)</span> <span class=\"hljs-keyword\">throws</span> IllegalArgumentException {\r\n        <span class=\"hljs-keyword\">if</span> (wt == <span class=\"hljs-literal\">null</span> || val == <span class=\"hljs-literal\">null</span>) {\r\n            <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">IllegalArgumentException</span>();\r\n        }\r\n        <span class=\"hljs-type\">int</span> i, w;\r\n        <span class=\"hljs-type\">int</span> rv[][] = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">int</span>[n + <span class=\"hljs-number\">1</span>][W + <span class=\"hljs-number\">1</span>]; <span class=\"hljs-comment\">// rv means return value</span>\r\n\r\n        <span class=\"hljs-comment\">// Build table rv[][] in bottom up manner</span>\r\n        <span class=\"hljs-keyword\">for</span> (i = <span class=\"hljs-number\">0</span>; i &lt;= n; i++) {\r\n            <span class=\"hljs-keyword\">for</span> (w = <span class=\"hljs-number\">0</span>; w &lt;= W; w++) {\r\n                <span class=\"hljs-keyword\">if</span> (i == <span class=\"hljs-number\">0</span> || w == <span class=\"hljs-number\">0</span>) {\r\n                    rv[i][w] = <span class=\"hljs-number\">0</span>;\r\n                } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (wt[i - <span class=\"hljs-number\">1</span>] &lt;= w) {\r\n                    rv[i][w] = Math.max(val[i - <span class=\"hljs-number\">1</span>] + rv[i - <span class=\"hljs-number\">1</span>][w - wt[i - <span class=\"hljs-number\">1</span>]], rv[i - <span class=\"hljs-number\">1</span>][w]);\r\n                } <span class=\"hljs-keyword\">else</span> {\r\n                    rv[i][w] = rv[i - <span class=\"hljs-number\">1</span>][w];\r\n                }\r\n            }\r\n        }\r\n\r\n        <span class=\"hljs-keyword\">return</span> rv[n][W];\r\n    }\r\n\r\n    <span class=\"hljs-comment\">// Driver program to test above function</span>\r\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String args[])</span> {\r\n        <span class=\"hljs-type\">int</span> val[] = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">int</span>[]{<span class=\"hljs-number\">50</span>, <span class=\"hljs-number\">100</span>, <span class=\"hljs-number\">130</span>};\r\n        <span class=\"hljs-type\">int</span> wt[] = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">int</span>[]{<span class=\"hljs-number\">10</span>, <span class=\"hljs-number\">20</span>, <span class=\"hljs-number\">40</span>};\r\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">W</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">50</span>;\r\n        System.out.println(knapSack(W, wt, val, val.length));\r\n    }\r\n}\r\n"
    },
    "go": {
      "dir": "dynamic\\knapsack.go",
      "url": "https://github.com/TheAlgorithms/go/tree/master/dynamic\\knapsack.go",
      "code": "<span class=\"hljs-keyword\">package</span> dynamic\r\n\r\n<span class=\"hljs-comment\">// Knapsack Problem</span>\r\n<span class=\"hljs-comment\">// https://www.geeksforgeeks.org/0-1-knapsack-problem-dp-10/</span>\r\n\r\n<span class=\"hljs-keyword\">import</span> (\r\n\t<span class=\"hljs-string\">&quot;math&quot;</span>\r\n)\r\n\r\n<span class=\"hljs-comment\">// Max function - possible duplicate</span>\r\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">func</span> <span class=\"hljs-title\">Max</span><span class=\"hljs-params\">(a, b <span class=\"hljs-type\">int</span>)</span></span> <span class=\"hljs-type\">int</span> {\r\n\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-type\">int</span>(math.Max(<span class=\"hljs-type\">float64</span>(a), <span class=\"hljs-type\">float64</span>(b)))\r\n}\r\n\r\n<span class=\"hljs-comment\">// Knapsack solves knapsack problem</span>\r\n<span class=\"hljs-comment\">// return maxProfit</span>\r\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">func</span> <span class=\"hljs-title\">Knapsack</span><span class=\"hljs-params\">(maxWeight <span class=\"hljs-type\">int</span>, weights, values []<span class=\"hljs-type\">int</span>)</span></span> <span class=\"hljs-type\">int</span> {\r\n\tn := <span class=\"hljs-built_in\">len</span>(weights)\r\n\tm := maxWeight\r\n\t<span class=\"hljs-comment\">// create dp data structure</span>\r\n\tdp := <span class=\"hljs-built_in\">make</span>([][]<span class=\"hljs-type\">int</span>, n+<span class=\"hljs-number\">1</span>)\r\n\t<span class=\"hljs-keyword\">for</span> i := <span class=\"hljs-keyword\">range</span> dp {\r\n\t\tdp[i] = <span class=\"hljs-built_in\">make</span>([]<span class=\"hljs-type\">int</span>, m+<span class=\"hljs-number\">1</span>)\r\n\t}\r\n\t<span class=\"hljs-keyword\">for</span> i := <span class=\"hljs-number\">0</span>; i &lt; <span class=\"hljs-built_in\">len</span>(weights); i++ {\r\n\t\t<span class=\"hljs-keyword\">for</span> j := <span class=\"hljs-number\">0</span>; j &lt;= maxWeight; j++ {\r\n\t\t\t<span class=\"hljs-keyword\">if</span> weights[i] &gt; j {\r\n\t\t\t\tdp[i+<span class=\"hljs-number\">1</span>][j] = dp[i][j]\r\n\t\t\t} <span class=\"hljs-keyword\">else</span> {\r\n\t\t\t\tdp[i+<span class=\"hljs-number\">1</span>][j] = Max(dp[i][j-weights[i]]+values[i], dp[i][j])\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t<span class=\"hljs-keyword\">return</span> dp[n][m]\r\n}\r\n\r\n<span class=\"hljs-comment\">/*\r\nfunc main() {\r\n\tmaxWeight := 50\r\n\tvalues := []int{\r\n\t\t60, 100, 120,\r\n\t}\r\n\tweights := []int{\r\n\t\t10, 20, 30,\r\n\t}\r\n\tmaxProfit := Knapsack(maxWeight, weights, values)\r\n\tfmt.Println(maxProfit)\r\n}\r\n*/</span>\r\n"
    },
    "rust": {
      "dir": "src\\dynamic_programming\\knapsack.rs",
      "url": "https://github.com/TheAlgorithms/rust/tree/master/src\\dynamic_programming\\knapsack.rs",
      "code": "<span class=\"hljs-comment\">//! Solves the knapsack problem</span>\r\n<span class=\"hljs-keyword\">use</span> std::cmp::max;\r\n\r\n<span class=\"hljs-comment\">/// knapsack_table(w, weights, values) returns the knapsack table (`n`, `m`) with maximum values, where `n` is number of items</span>\r\n<span class=\"hljs-comment\">///</span>\r\n<span class=\"hljs-comment\">/// Arguments:</span>\r\n<span class=\"hljs-comment\">///     * `w` - knapsack capacity</span>\r\n<span class=\"hljs-comment\">///     * `weights` - set of weights for each item</span>\r\n<span class=\"hljs-comment\">///     * `values` - set of values for each item</span>\r\n<span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title function_\">knapsack_table</span>(w: &amp;<span class=\"hljs-type\">usize</span>, weights: &amp;[<span class=\"hljs-type\">usize</span>], values: &amp;[<span class=\"hljs-type\">usize</span>]) <span class=\"hljs-punctuation\">-&gt;</span> <span class=\"hljs-type\">Vec</span>&lt;<span class=\"hljs-type\">Vec</span>&lt;<span class=\"hljs-type\">usize</span>&gt;&gt; {\r\n    <span class=\"hljs-comment\">// Initialize `n` - number of items</span>\r\n    <span class=\"hljs-keyword\">let</span> <span class=\"hljs-variable\">n</span>: <span class=\"hljs-type\">usize</span> = weights.<span class=\"hljs-title function_ invoke__\">len</span>();\r\n    <span class=\"hljs-comment\">// Initialize `m`</span>\r\n    <span class=\"hljs-comment\">// m[i, w] - the maximum value that can be attained with weight less that or equal to `w` using items up to `i`</span>\r\n    <span class=\"hljs-keyword\">let</span> <span class=\"hljs-keyword\">mut </span><span class=\"hljs-variable\">m</span>: <span class=\"hljs-type\">Vec</span>&lt;<span class=\"hljs-type\">Vec</span>&lt;<span class=\"hljs-type\">usize</span>&gt;&gt; = <span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-number\">0</span>; w + <span class=\"hljs-number\">1</span>]; n + <span class=\"hljs-number\">1</span>];\r\n\r\n    <span class=\"hljs-keyword\">for</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-keyword\">in</span> <span class=\"hljs-number\">0</span>..=n {\r\n        <span class=\"hljs-keyword\">for</span> <span class=\"hljs-variable\">j</span> <span class=\"hljs-keyword\">in</span> <span class=\"hljs-number\">0</span>..=*w {\r\n            <span class=\"hljs-comment\">// m[i, j] compiled according to the following rule:</span>\r\n            <span class=\"hljs-keyword\">if</span> i == <span class=\"hljs-number\">0</span> || j == <span class=\"hljs-number\">0</span> {\r\n                m[i][j] = <span class=\"hljs-number\">0</span>;\r\n            } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> weights[i - <span class=\"hljs-number\">1</span>] &lt;= j {\r\n                <span class=\"hljs-comment\">// If `i` is in the knapsack</span>\r\n                <span class=\"hljs-comment\">// Then m[i, j] is equal to the maximum value of the knapsack,</span>\r\n                <span class=\"hljs-comment\">// where the weight `j` is reduced by the weight of the `i-th` item and the set of admissible items plus the value `k`</span>\r\n                m[i][j] = <span class=\"hljs-title function_ invoke__\">max</span>(values[i - <span class=\"hljs-number\">1</span>] + m[i - <span class=\"hljs-number\">1</span>][j - weights[i - <span class=\"hljs-number\">1</span>]], m[i - <span class=\"hljs-number\">1</span>][j]);\r\n            } <span class=\"hljs-keyword\">else</span> {\r\n                <span class=\"hljs-comment\">// If the item `i` did not get into the knapsack</span>\r\n                <span class=\"hljs-comment\">// Then m[i, j] is equal to the maximum cost of a knapsack with the same capacity and a set of admissible items</span>\r\n                m[i][j] = m[i - <span class=\"hljs-number\">1</span>][j]\r\n            }\r\n        }\r\n    }\r\n    m\r\n}\r\n\r\n<span class=\"hljs-comment\">/// knapsack_items(weights, m, i, j) returns the indices of the items of the optimal knapsack (from 1 to `n`)</span>\r\n<span class=\"hljs-comment\">///</span>\r\n<span class=\"hljs-comment\">/// Arguments:</span>\r\n<span class=\"hljs-comment\">///     * `weights` - set of weights for each item</span>\r\n<span class=\"hljs-comment\">///     * `m` - knapsack table with maximum values</span>\r\n<span class=\"hljs-comment\">///     * `i` - include items 1 through `i` in knapsack (for the initial value, use `n`)</span>\r\n<span class=\"hljs-comment\">///     * `j` - maximum weight of the knapsack</span>\r\n<span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title function_\">knapsack_items</span>(weights: &amp;[<span class=\"hljs-type\">usize</span>], m: &amp;[<span class=\"hljs-type\">Vec</span>&lt;<span class=\"hljs-type\">usize</span>&gt;], i: <span class=\"hljs-type\">usize</span>, j: <span class=\"hljs-type\">usize</span>) <span class=\"hljs-punctuation\">-&gt;</span> <span class=\"hljs-type\">Vec</span>&lt;<span class=\"hljs-type\">usize</span>&gt; {\r\n    <span class=\"hljs-keyword\">if</span> i == <span class=\"hljs-number\">0</span> {\r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">vec!</span>[];\r\n    }\r\n    <span class=\"hljs-keyword\">if</span> m[i][j] &gt; m[i - <span class=\"hljs-number\">1</span>][j] {\r\n        <span class=\"hljs-keyword\">let</span> <span class=\"hljs-keyword\">mut </span><span class=\"hljs-variable\">knap</span>: <span class=\"hljs-type\">Vec</span>&lt;<span class=\"hljs-type\">usize</span>&gt; = <span class=\"hljs-title function_ invoke__\">knapsack_items</span>(weights, m, i - <span class=\"hljs-number\">1</span>, j - weights[i - <span class=\"hljs-number\">1</span>]);\r\n        knap.<span class=\"hljs-title function_ invoke__\">push</span>(i);\r\n        knap\r\n    } <span class=\"hljs-keyword\">else</span> {\r\n        <span class=\"hljs-title function_ invoke__\">knapsack_items</span>(weights, m, i - <span class=\"hljs-number\">1</span>, j)\r\n    }\r\n}\r\n\r\n<span class=\"hljs-comment\">/// knapsack(w, weights, values) returns the tuple where first value is `optimal profit`,</span>\r\n<span class=\"hljs-comment\">/// second value is `knapsack optimal weight` and the last value is `indices of items`, that we got (from 1 to `n`)</span>\r\n<span class=\"hljs-comment\">///</span>\r\n<span class=\"hljs-comment\">/// Arguments:</span>\r\n<span class=\"hljs-comment\">///     * `w` - knapsack capacity</span>\r\n<span class=\"hljs-comment\">///     * `weights` - set of weights for each item</span>\r\n<span class=\"hljs-comment\">///     * `values` - set of values for each item</span>\r\n<span class=\"hljs-comment\">///</span>\r\n<span class=\"hljs-comment\">/// Complexity</span>\r\n<span class=\"hljs-comment\">///     - time complexity: O(nw),</span>\r\n<span class=\"hljs-comment\">///     - space complexity: O(nw),</span>\r\n<span class=\"hljs-comment\">///</span>\r\n<span class=\"hljs-comment\">/// where `n` and `w` are `number of items` and `knapsack capacity`</span>\r\n<span class=\"hljs-keyword\">pub</span> <span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title function_\">knapsack</span>(w: <span class=\"hljs-type\">usize</span>, weights: <span class=\"hljs-type\">Vec</span>&lt;<span class=\"hljs-type\">usize</span>&gt;, values: <span class=\"hljs-type\">Vec</span>&lt;<span class=\"hljs-type\">usize</span>&gt;) <span class=\"hljs-punctuation\">-&gt;</span> (<span class=\"hljs-type\">usize</span>, <span class=\"hljs-type\">usize</span>, <span class=\"hljs-type\">Vec</span>&lt;<span class=\"hljs-type\">usize</span>&gt;) {\r\n    <span class=\"hljs-comment\">// Checks if the number of items in the list of weights is the same as the number of items in the list of values</span>\r\n    <span class=\"hljs-built_in\">assert_eq!</span>(weights.<span class=\"hljs-title function_ invoke__\">len</span>(), values.<span class=\"hljs-title function_ invoke__\">len</span>(), <span class=\"hljs-string\">&quot;Number of items in the list of weights doesn&#x27;t match the number of items in the list of values!&quot;</span>);\r\n    <span class=\"hljs-comment\">// Initialize `n` - number of items</span>\r\n    <span class=\"hljs-keyword\">let</span> <span class=\"hljs-variable\">n</span>: <span class=\"hljs-type\">usize</span> = weights.<span class=\"hljs-title function_ invoke__\">len</span>();\r\n    <span class=\"hljs-comment\">// Find the knapsack table</span>\r\n    <span class=\"hljs-keyword\">let</span> <span class=\"hljs-variable\">m</span>: <span class=\"hljs-type\">Vec</span>&lt;<span class=\"hljs-type\">Vec</span>&lt;<span class=\"hljs-type\">usize</span>&gt;&gt; = <span class=\"hljs-title function_ invoke__\">knapsack_table</span>(&amp;w, &amp;weights, &amp;values);\r\n    <span class=\"hljs-comment\">// Find the indices of the items</span>\r\n    <span class=\"hljs-keyword\">let</span> <span class=\"hljs-variable\">items</span>: <span class=\"hljs-type\">Vec</span>&lt;<span class=\"hljs-type\">usize</span>&gt; = <span class=\"hljs-title function_ invoke__\">knapsack_items</span>(&amp;weights, &amp;m, n, w);\r\n    <span class=\"hljs-comment\">// Find the total weight of optimal knapsack</span>\r\n    <span class=\"hljs-keyword\">let</span> <span class=\"hljs-keyword\">mut </span><span class=\"hljs-variable\">total_weight</span>: <span class=\"hljs-type\">usize</span> = <span class=\"hljs-number\">0</span>;\r\n    <span class=\"hljs-keyword\">for</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-keyword\">in</span> items.<span class=\"hljs-title function_ invoke__\">iter</span>() {\r\n        total_weight += weights[i - <span class=\"hljs-number\">1</span>];\r\n    }\r\n    <span class=\"hljs-comment\">// Return result</span>\r\n    (m[n][w], total_weight, items)\r\n}\r\n\r\n<span class=\"hljs-meta\">#[cfg(test)]</span>\r\n<span class=\"hljs-keyword\">mod</span> tests {\r\n    <span class=\"hljs-comment\">// Took test datasets from https://people.sc.fsu.edu/~jburkardt/datasets/bin_packing/bin_packing.html</span>\r\n    <span class=\"hljs-keyword\">use</span> super::*;\r\n\r\n    <span class=\"hljs-meta\">#[test]</span>\r\n    <span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title function_\">test_p02</span>() {\r\n        <span class=\"hljs-built_in\">assert_eq!</span>(\r\n            (<span class=\"hljs-number\">51</span>, <span class=\"hljs-number\">26</span>, <span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>]),\r\n            <span class=\"hljs-title function_ invoke__\">knapsack</span>(<span class=\"hljs-number\">26</span>, <span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-number\">12</span>, <span class=\"hljs-number\">7</span>, <span class=\"hljs-number\">11</span>, <span class=\"hljs-number\">8</span>, <span class=\"hljs-number\">9</span>], <span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-number\">24</span>, <span class=\"hljs-number\">13</span>, <span class=\"hljs-number\">23</span>, <span class=\"hljs-number\">15</span>, <span class=\"hljs-number\">16</span>])\r\n        );\r\n    }\r\n\r\n    <span class=\"hljs-meta\">#[test]</span>\r\n    <span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title function_\">test_p04</span>() {\r\n        <span class=\"hljs-built_in\">assert_eq!</span>(\r\n            (<span class=\"hljs-number\">150</span>, <span class=\"hljs-number\">190</span>, <span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">5</span>]),\r\n            <span class=\"hljs-title function_ invoke__\">knapsack</span>(\r\n                <span class=\"hljs-number\">190</span>,\r\n                <span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-number\">56</span>, <span class=\"hljs-number\">59</span>, <span class=\"hljs-number\">80</span>, <span class=\"hljs-number\">64</span>, <span class=\"hljs-number\">75</span>, <span class=\"hljs-number\">17</span>],\r\n                <span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-number\">50</span>, <span class=\"hljs-number\">50</span>, <span class=\"hljs-number\">64</span>, <span class=\"hljs-number\">46</span>, <span class=\"hljs-number\">50</span>, <span class=\"hljs-number\">5</span>]\r\n            )\r\n        );\r\n    }\r\n\r\n    <span class=\"hljs-meta\">#[test]</span>\r\n    <span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title function_\">test_p01</span>() {\r\n        <span class=\"hljs-built_in\">assert_eq!</span>(\r\n            (<span class=\"hljs-number\">309</span>, <span class=\"hljs-number\">165</span>, <span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">6</span>]),\r\n            <span class=\"hljs-title function_ invoke__\">knapsack</span>(\r\n                <span class=\"hljs-number\">165</span>,\r\n                <span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-number\">23</span>, <span class=\"hljs-number\">31</span>, <span class=\"hljs-number\">29</span>, <span class=\"hljs-number\">44</span>, <span class=\"hljs-number\">53</span>, <span class=\"hljs-number\">38</span>, <span class=\"hljs-number\">63</span>, <span class=\"hljs-number\">85</span>, <span class=\"hljs-number\">89</span>, <span class=\"hljs-number\">82</span>],\r\n                <span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-number\">92</span>, <span class=\"hljs-number\">57</span>, <span class=\"hljs-number\">49</span>, <span class=\"hljs-number\">68</span>, <span class=\"hljs-number\">60</span>, <span class=\"hljs-number\">43</span>, <span class=\"hljs-number\">67</span>, <span class=\"hljs-number\">84</span>, <span class=\"hljs-number\">87</span>, <span class=\"hljs-number\">72</span>]\r\n            )\r\n        );\r\n    }\r\n\r\n    <span class=\"hljs-meta\">#[test]</span>\r\n    <span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title function_\">test_p06</span>() {\r\n        <span class=\"hljs-built_in\">assert_eq!</span>(\r\n            (<span class=\"hljs-number\">1735</span>, <span class=\"hljs-number\">169</span>, <span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">7</span>]),\r\n            <span class=\"hljs-title function_ invoke__\">knapsack</span>(\r\n                <span class=\"hljs-number\">170</span>,\r\n                <span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-number\">41</span>, <span class=\"hljs-number\">50</span>, <span class=\"hljs-number\">49</span>, <span class=\"hljs-number\">59</span>, <span class=\"hljs-number\">55</span>, <span class=\"hljs-number\">57</span>, <span class=\"hljs-number\">60</span>],\r\n                <span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-number\">442</span>, <span class=\"hljs-number\">525</span>, <span class=\"hljs-number\">511</span>, <span class=\"hljs-number\">593</span>, <span class=\"hljs-number\">546</span>, <span class=\"hljs-number\">564</span>, <span class=\"hljs-number\">617</span>]\r\n            )\r\n        );\r\n    }\r\n\r\n    <span class=\"hljs-meta\">#[test]</span>\r\n    <span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title function_\">test_p07</span>() {\r\n        <span class=\"hljs-built_in\">assert_eq!</span>(\r\n            (<span class=\"hljs-number\">1458</span>, <span class=\"hljs-number\">749</span>, <span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">7</span>, <span class=\"hljs-number\">8</span>, <span class=\"hljs-number\">9</span>, <span class=\"hljs-number\">14</span>, <span class=\"hljs-number\">15</span>]),\r\n            <span class=\"hljs-title function_ invoke__\">knapsack</span>(\r\n                <span class=\"hljs-number\">750</span>,\r\n                <span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-number\">70</span>, <span class=\"hljs-number\">73</span>, <span class=\"hljs-number\">77</span>, <span class=\"hljs-number\">80</span>, <span class=\"hljs-number\">82</span>, <span class=\"hljs-number\">87</span>, <span class=\"hljs-number\">90</span>, <span class=\"hljs-number\">94</span>, <span class=\"hljs-number\">98</span>, <span class=\"hljs-number\">106</span>, <span class=\"hljs-number\">110</span>, <span class=\"hljs-number\">113</span>, <span class=\"hljs-number\">115</span>, <span class=\"hljs-number\">118</span>, <span class=\"hljs-number\">120</span>],\r\n                <span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-number\">135</span>, <span class=\"hljs-number\">139</span>, <span class=\"hljs-number\">149</span>, <span class=\"hljs-number\">150</span>, <span class=\"hljs-number\">156</span>, <span class=\"hljs-number\">163</span>, <span class=\"hljs-number\">173</span>, <span class=\"hljs-number\">184</span>, <span class=\"hljs-number\">192</span>, <span class=\"hljs-number\">201</span>, <span class=\"hljs-number\">210</span>, <span class=\"hljs-number\">214</span>, <span class=\"hljs-number\">221</span>, <span class=\"hljs-number\">229</span>, <span class=\"hljs-number\">240</span>]\r\n            )\r\n        );\r\n    }\r\n}\r\n"
    },
    "ruby": {
      "dir": "dynamic_programming\\knapsack.rb",
      "url": "https://github.com/TheAlgorithms/ruby/tree/master/dynamic_programming\\knapsack.rb",
      "code": "<span class=\"hljs-keyword\">require</span> <span class=\"hljs-string\">&quot;test/unit&quot;</span>\r\n\r\n<span class=\"hljs-comment\"># 0-1 Knapsack problem</span>\r\n<span class=\"hljs-comment\"># The function returns the maximum value that can be put in a knapsack of a given capacity</span>\r\n \r\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">knapSack</span><span class=\"hljs-params\">(weight, wt, val, n)</span></span>\r\n    \r\n    rows, cols = n+<span class=\"hljs-number\">1</span>,weight+<span class=\"hljs-number\">1</span>  \r\n    <span class=\"hljs-comment\"># Create a 2D array to store results of subproblems</span>\r\n    dp = Array.new(rows) { Array.new(cols) }\r\n    \r\n    <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> (<span class=\"hljs-number\">0</span>..n + <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">1</span>) \r\n        <span class=\"hljs-keyword\">for</span> w <span class=\"hljs-keyword\">in</span> (<span class=\"hljs-number\">0</span>..weight + <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">1</span>) \r\n            <span class=\"hljs-comment\"># if the weight is 0 or value is zero, the corresponding cell in the 2D array is set to 0</span>\r\n            <span class=\"hljs-keyword\">if</span> i == <span class=\"hljs-number\">0</span> <span class=\"hljs-params\">||</span> w == <span class=\"hljs-number\">0</span> \r\n                dp[i][w] = <span class=\"hljs-number\">0</span>\r\n            \r\n            <span class=\"hljs-comment\">#If the weight of an element is less than the capacity of the bag, the maximum value of the two cases is taken(Either the element is taken into consideration</span>\r\n            <span class=\"hljs-comment\">#or is ignored)</span>\r\n            <span class=\"hljs-keyword\">elsif</span> wt[i-<span class=\"hljs-number\">1</span>] &lt;= w \r\n                dp[i][w] = [ val[i-<span class=\"hljs-number\">1</span>] + dp[i-<span class=\"hljs-number\">1</span>][w-wt[i-<span class=\"hljs-number\">1</span>]],dp[i-<span class=\"hljs-number\">1</span>][w]].max()\r\n           \r\n            <span class=\"hljs-comment\">#If the weight of the element is greater than the capacity of the bag, the cell is set to the value of the previous cell</span>\r\n            <span class=\"hljs-keyword\">else</span>\r\n                dp[i][w] = dp[i-<span class=\"hljs-number\">1</span>][w]\r\n            <span class=\"hljs-keyword\">end</span>\r\n        <span class=\"hljs-keyword\">end</span>\r\n    <span class=\"hljs-keyword\">end</span>\r\n    \r\n    <span class=\"hljs-keyword\">return</span> dp[n][weight]\r\n<span class=\"hljs-keyword\">end</span>\r\n    \r\n  \r\n\r\n\r\n\r\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Knapsacktest</span> &lt; Test::Unit::<span class=\"hljs-title\">TestCase</span></span>\r\n    \r\n    <span class=\"hljs-comment\">#Test1</span>\r\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">test_knapsack1</span></span>\r\n      assert_equal <span class=\"hljs-number\">220</span>, knapSack(<span class=\"hljs-number\">50</span>,[<span class=\"hljs-number\">10</span>,<span class=\"hljs-number\">20</span>,<span class=\"hljs-number\">30</span>],[<span class=\"hljs-number\">60</span>,<span class=\"hljs-number\">100</span>,<span class=\"hljs-number\">120</span>],<span class=\"hljs-number\">3</span>), <span class=\"hljs-string\">&quot;Should return 220&quot;</span> \r\n    <span class=\"hljs-keyword\">end</span>\r\n\r\n\r\n    <span class=\"hljs-comment\">#Test2</span>\r\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">test_knapsack2</span></span>\r\n      assert_equal <span class=\"hljs-number\">500</span>, knapSack(<span class=\"hljs-number\">50</span>,[<span class=\"hljs-number\">50</span>, <span class=\"hljs-number\">20</span>, <span class=\"hljs-number\">30</span>],[<span class=\"hljs-number\">100</span>, <span class=\"hljs-number\">200</span>, <span class=\"hljs-number\">300</span>],<span class=\"hljs-number\">3</span>), <span class=\"hljs-string\">&quot;Should return 500&quot;</span> \r\n    <span class=\"hljs-keyword\">end</span>\r\n\r\n    <span class=\"hljs-comment\">#Test3</span>\r\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">test_knapsack3</span></span>\r\n        assert_equal <span class=\"hljs-number\">17</span>, knapSack(<span class=\"hljs-number\">10</span>,[<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">1</span>],[<span class=\"hljs-number\">10</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">0</span>],<span class=\"hljs-number\">5</span>), <span class=\"hljs-string\">&quot;Should return 17&quot;</span> \r\n    <span class=\"hljs-keyword\">end</span>\r\n\r\n    <span class=\"hljs-comment\">#Test4</span>\r\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">test_knapsack4</span></span>\r\n        assert_equal <span class=\"hljs-number\">0</span>, knapSack(<span class=\"hljs-number\">0</span>,[<span class=\"hljs-number\">23</span>, <span class=\"hljs-number\">17</span>, <span class=\"hljs-number\">12</span>, <span class=\"hljs-number\">8</span>, <span class=\"hljs-number\">20</span>],[<span class=\"hljs-number\">199</span>,<span class=\"hljs-number\">200</span>,<span class=\"hljs-number\">30</span>,<span class=\"hljs-number\">41</span>,<span class=\"hljs-number\">10</span>],<span class=\"hljs-number\">5</span>), <span class=\"hljs-string\">&quot;Should return 0&quot;</span> \r\n    <span class=\"hljs-keyword\">end</span>\r\n\r\n\r\n<span class=\"hljs-keyword\">end</span>\r\n\r\n\r\n    "
    }
  },
  "contributors": [
    {
      "name": "imp",
      "email": "imp07@qq.com",
      "commits": 1
    },
    {
      "name": "Egor Bronnikov",
      "email": "52889537+endygamedev@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "ApsaraGuhan",
      "email": "77098039+ApsaraGuhan@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Azzaare",
      "email": "jf@baffier.fr",
      "commits": 1
    },
    {
      "name": "Rratic",
      "email": "73381027+Rratic@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Taj",
      "email": "tjgurwara99@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Michele Caci",
      "email": "michele.caci@gmail.com",
      "commits": 1
    },
    {
      "name": "rxaru",
      "email": "ai.kanaria.ai@gmail.com",
      "commits": 1
    },
    {
      "name": "Krishna Vedala",
      "email": "7001608+kvedala@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Aitor Fidalgo Sánchez",
      "email": "64830228+aitorfi@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Serwio YK",
      "email": "56473255+Serwios@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "qwerty50000a",
      "email": "37273442+qwerty50000a@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Deepak",
      "email": "deepakkumar180997@gmail.com",
      "commits": 1
    },
    {
      "name": "pkdism",
      "email": "pawan.dwivedi94@gmail.com",
      "commits": 1
    },
    {
      "name": "Tobias Schröder",
      "email": "5970416+tbsschroeder@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "GeorgeChambi",
      "email": "charalambous99@gmail.com",
      "commits": 1
    },
    {
      "name": "William Zhang",
      "email": "39932068+WilliamHYZhang@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Maxwell Aladago",
      "email": "maxwell.aladago@gmail.com",
      "commits": 1
    },
    {
      "name": "97arushisharma",
      "email": "97arushisharma@gmail.com",
      "commits": 1
    },
    {
      "name": "dhruvsaini",
      "email": "dhruv_saini@outlook.com",
      "commits": 1
    },
    {
      "name": "Christian Clauss",
      "email": "cclauss@me.com",
      "commits": 3
    },
    {
      "name": "Libin Yang",
      "email": "szuyanglb@outlook.com",
      "commits": 3
    },
    {
      "name": "bharath-123",
      "email": "vedabharath12345@gmail.com",
      "commits": 4
    },
    {
      "name": "Anup Kumar Panwar",
      "email": "1anuppanwar@gmail.com",
      "commits": 8
    }
  ],
  "explanationUrl": {}
}