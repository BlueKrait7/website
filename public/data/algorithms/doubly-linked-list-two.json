{
  "slug": "doubly-linked-list-two",
  "name": "Doubly Linked List Two",
  "categories": [
    "datastructures",
    "linkedlist"
  ],
  "body": {},
  "implementations": {
    "python": {
      "dir": "data_structures\\linked_list\\doubly_linked_list_two.py",
      "url": "https://github.com/TheAlgorithms/python/tree/master/data_structures\\linked_list\\doubly_linked_list_two.py",
      "code": "<span class=\"hljs-string\">&quot;&quot;&quot;\r\n- A linked list is similar to an array, it holds values. However, links in a linked\r\n    list do not have indexes.\r\n- This is an example of a double ended, doubly linked list.\r\n- Each link references the next link and the previous one.\r\n- A Doubly Linked List (DLL) contains an extra pointer, typically called previous\r\n    pointer, together with next pointer and data which are there in singly linked list.\r\n - Advantages over SLL - It can be traversed in both forward and backward direction.\r\n     Delete operation is more efficient\r\n&quot;&quot;&quot;</span>\r\n\r\n\r\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Node</span>:\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self, data: <span class=\"hljs-built_in\">int</span>, previous=<span class=\"hljs-literal\">None</span>, next_node=<span class=\"hljs-literal\">None</span></span>):\r\n        self.data = data\r\n        self.previous = previous\r\n        self.<span class=\"hljs-built_in\">next</span> = next_node\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__str__</span>(<span class=\"hljs-params\">self</span>) -&gt; <span class=\"hljs-built_in\">str</span>:\r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">f&quot;<span class=\"hljs-subst\">{self.data}</span>&quot;</span>\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_data</span>(<span class=\"hljs-params\">self</span>) -&gt; <span class=\"hljs-built_in\">int</span>:\r\n        <span class=\"hljs-keyword\">return</span> self.data\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_next</span>(<span class=\"hljs-params\">self</span>):\r\n        <span class=\"hljs-keyword\">return</span> self.<span class=\"hljs-built_in\">next</span>\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_previous</span>(<span class=\"hljs-params\">self</span>):\r\n        <span class=\"hljs-keyword\">return</span> self.previous\r\n\r\n\r\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">LinkedListIterator</span>:\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self, head</span>):\r\n        self.current = head\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__iter__</span>(<span class=\"hljs-params\">self</span>):\r\n        <span class=\"hljs-keyword\">return</span> self\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__next__</span>(<span class=\"hljs-params\">self</span>):\r\n        <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> self.current:\r\n            <span class=\"hljs-keyword\">raise</span> StopIteration\r\n        <span class=\"hljs-keyword\">else</span>:\r\n            value = self.current.get_data()\r\n            self.current = self.current.get_next()\r\n            <span class=\"hljs-keyword\">return</span> value\r\n\r\n\r\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">LinkedList</span>:\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\r\n        self.head = <span class=\"hljs-literal\">None</span>  <span class=\"hljs-comment\"># First node in list</span>\r\n        self.tail = <span class=\"hljs-literal\">None</span>  <span class=\"hljs-comment\"># Last node in list</span>\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__str__</span>(<span class=\"hljs-params\">self</span>):\r\n        current = self.head\r\n        nodes = []\r\n        <span class=\"hljs-keyword\">while</span> current <span class=\"hljs-keyword\">is</span> <span class=\"hljs-keyword\">not</span> <span class=\"hljs-literal\">None</span>:\r\n            nodes.append(current.get_data())\r\n            current = current.get_next()\r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot; &quot;</span>.join(<span class=\"hljs-built_in\">str</span>(node) <span class=\"hljs-keyword\">for</span> node <span class=\"hljs-keyword\">in</span> nodes)\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__contains__</span>(<span class=\"hljs-params\">self, value: <span class=\"hljs-built_in\">int</span></span>):\r\n        current = self.head\r\n        <span class=\"hljs-keyword\">while</span> current:\r\n            <span class=\"hljs-keyword\">if</span> current.get_data() == value:\r\n                <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">True</span>\r\n            current = current.get_next()\r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">False</span>\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__iter__</span>(<span class=\"hljs-params\">self</span>):\r\n        <span class=\"hljs-keyword\">return</span> LinkedListIterator(self.head)\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_head_data</span>(<span class=\"hljs-params\">self</span>):\r\n        <span class=\"hljs-keyword\">if</span> self.head:\r\n            <span class=\"hljs-keyword\">return</span> self.head.get_data()\r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">None</span>\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_tail_data</span>(<span class=\"hljs-params\">self</span>):\r\n        <span class=\"hljs-keyword\">if</span> self.tail:\r\n            <span class=\"hljs-keyword\">return</span> self.tail.get_data()\r\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">None</span>\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">set_head</span>(<span class=\"hljs-params\">self, node: Node</span>) -&gt; <span class=\"hljs-literal\">None</span>:\r\n\r\n        <span class=\"hljs-keyword\">if</span> self.head <span class=\"hljs-keyword\">is</span> <span class=\"hljs-literal\">None</span>:\r\n            self.head = node\r\n            self.tail = node\r\n        <span class=\"hljs-keyword\">else</span>:\r\n            self.insert_before_node(self.head, node)\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">set_tail</span>(<span class=\"hljs-params\">self, node: Node</span>) -&gt; <span class=\"hljs-literal\">None</span>:\r\n        <span class=\"hljs-keyword\">if</span> self.head <span class=\"hljs-keyword\">is</span> <span class=\"hljs-literal\">None</span>:\r\n            self.set_head(node)\r\n        <span class=\"hljs-keyword\">else</span>:\r\n            self.insert_after_node(self.tail, node)\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">insert</span>(<span class=\"hljs-params\">self, value: <span class=\"hljs-built_in\">int</span></span>) -&gt; <span class=\"hljs-literal\">None</span>:\r\n        node = Node(value)\r\n        <span class=\"hljs-keyword\">if</span> self.head <span class=\"hljs-keyword\">is</span> <span class=\"hljs-literal\">None</span>:\r\n            self.set_head(node)\r\n        <span class=\"hljs-keyword\">else</span>:\r\n            self.set_tail(node)\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">insert_before_node</span>(<span class=\"hljs-params\">self, node: Node, node_to_insert: Node</span>) -&gt; <span class=\"hljs-literal\">None</span>:\r\n        node_to_insert.<span class=\"hljs-built_in\">next</span> = node\r\n        node_to_insert.previous = node.previous\r\n\r\n        <span class=\"hljs-keyword\">if</span> node.get_previous() <span class=\"hljs-keyword\">is</span> <span class=\"hljs-literal\">None</span>:\r\n            self.head = node_to_insert\r\n        <span class=\"hljs-keyword\">else</span>:\r\n            node.previous.<span class=\"hljs-built_in\">next</span> = node_to_insert\r\n\r\n        node.previous = node_to_insert\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">insert_after_node</span>(<span class=\"hljs-params\">self, node: Node, node_to_insert: Node</span>) -&gt; <span class=\"hljs-literal\">None</span>:\r\n        node_to_insert.previous = node\r\n        node_to_insert.<span class=\"hljs-built_in\">next</span> = node.<span class=\"hljs-built_in\">next</span>\r\n\r\n        <span class=\"hljs-keyword\">if</span> node.get_next() <span class=\"hljs-keyword\">is</span> <span class=\"hljs-literal\">None</span>:\r\n            self.tail = node_to_insert\r\n        <span class=\"hljs-keyword\">else</span>:\r\n            node.<span class=\"hljs-built_in\">next</span>.previous = node_to_insert\r\n\r\n        node.<span class=\"hljs-built_in\">next</span> = node_to_insert\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">insert_at_position</span>(<span class=\"hljs-params\">self, position: <span class=\"hljs-built_in\">int</span>, value: <span class=\"hljs-built_in\">int</span></span>) -&gt; <span class=\"hljs-literal\">None</span>:\r\n        current_position = <span class=\"hljs-number\">1</span>\r\n        new_node = Node(value)\r\n        node = self.head\r\n        <span class=\"hljs-keyword\">while</span> node:\r\n            <span class=\"hljs-keyword\">if</span> current_position == position:\r\n                self.insert_before_node(node, new_node)\r\n                <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">None</span>\r\n            current_position += <span class=\"hljs-number\">1</span>\r\n            node = node.<span class=\"hljs-built_in\">next</span>\r\n        self.insert_after_node(self.tail, new_node)\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_node</span>(<span class=\"hljs-params\">self, item: <span class=\"hljs-built_in\">int</span></span>) -&gt; Node:\r\n        node = self.head\r\n        <span class=\"hljs-keyword\">while</span> node:\r\n            <span class=\"hljs-keyword\">if</span> node.get_data() == item:\r\n                <span class=\"hljs-keyword\">return</span> node\r\n            node = node.get_next()\r\n        <span class=\"hljs-keyword\">raise</span> Exception(<span class=\"hljs-string\">&quot;Node not found&quot;</span>)\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">delete_value</span>(<span class=\"hljs-params\">self, value</span>):\r\n        node = self.get_node(value)\r\n\r\n        <span class=\"hljs-keyword\">if</span> node <span class=\"hljs-keyword\">is</span> <span class=\"hljs-keyword\">not</span> <span class=\"hljs-literal\">None</span>:\r\n            <span class=\"hljs-keyword\">if</span> node == self.head:\r\n                self.head = self.head.get_next()\r\n\r\n            <span class=\"hljs-keyword\">if</span> node == self.tail:\r\n                self.tail = self.tail.get_previous()\r\n\r\n            self.remove_node_pointers(node)\r\n\r\n<span class=\"hljs-meta\">    @staticmethod</span>\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">remove_node_pointers</span>(<span class=\"hljs-params\">node: Node</span>) -&gt; <span class=\"hljs-literal\">None</span>:\r\n        <span class=\"hljs-keyword\">if</span> node.get_next():\r\n            node.<span class=\"hljs-built_in\">next</span>.previous = node.previous\r\n\r\n        <span class=\"hljs-keyword\">if</span> node.get_previous():\r\n            node.previous.<span class=\"hljs-built_in\">next</span> = node.<span class=\"hljs-built_in\">next</span>\r\n\r\n        node.<span class=\"hljs-built_in\">next</span> = <span class=\"hljs-literal\">None</span>\r\n        node.previous = <span class=\"hljs-literal\">None</span>\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">is_empty</span>(<span class=\"hljs-params\">self</span>):\r\n        <span class=\"hljs-keyword\">return</span> self.head <span class=\"hljs-keyword\">is</span> <span class=\"hljs-literal\">None</span>\r\n\r\n\r\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">create_linked_list</span>() -&gt; <span class=\"hljs-literal\">None</span>:\r\n    <span class=\"hljs-string\">&quot;&quot;&quot;\r\n    &gt;&gt;&gt; new_linked_list = LinkedList()\r\n    &gt;&gt;&gt; new_linked_list.get_head_data() is None\r\n    True\r\n    &gt;&gt;&gt; new_linked_list.get_tail_data() is None\r\n    True\r\n    &gt;&gt;&gt; new_linked_list.is_empty()\r\n    True\r\n    &gt;&gt;&gt; new_linked_list.insert(10)\r\n    &gt;&gt;&gt; new_linked_list.get_head_data()\r\n    10\r\n    &gt;&gt;&gt; new_linked_list.get_tail_data()\r\n    10\r\n    &gt;&gt;&gt; new_linked_list.insert_at_position(position=3, value=20)\r\n    &gt;&gt;&gt; new_linked_list.get_head_data()\r\n    10\r\n    &gt;&gt;&gt; new_linked_list.get_tail_data()\r\n    20\r\n    &gt;&gt;&gt; new_linked_list.set_head(Node(1000))\r\n    &gt;&gt;&gt; new_linked_list.get_head_data()\r\n    1000\r\n    &gt;&gt;&gt; new_linked_list.get_tail_data()\r\n    20\r\n    &gt;&gt;&gt; new_linked_list.set_tail(Node(2000))\r\n    &gt;&gt;&gt; new_linked_list.get_head_data()\r\n    1000\r\n    &gt;&gt;&gt; new_linked_list.get_tail_data()\r\n    2000\r\n    &gt;&gt;&gt; for value in new_linked_list:\r\n    ...    print(value)\r\n    1000\r\n    10\r\n    20\r\n    2000\r\n    &gt;&gt;&gt; new_linked_list.is_empty()\r\n    False\r\n    &gt;&gt;&gt; for value in new_linked_list:\r\n    ...    print(value)\r\n    1000\r\n    10\r\n    20\r\n    2000\r\n    &gt;&gt;&gt; 10 in new_linked_list\r\n    True\r\n    &gt;&gt;&gt; new_linked_list.delete_value(value=10)\r\n    &gt;&gt;&gt; 10 in new_linked_list\r\n    False\r\n    &gt;&gt;&gt; new_linked_list.delete_value(value=2000)\r\n    &gt;&gt;&gt; new_linked_list.get_tail_data()\r\n    20\r\n    &gt;&gt;&gt; new_linked_list.delete_value(value=1000)\r\n    &gt;&gt;&gt; new_linked_list.get_tail_data()\r\n    20\r\n    &gt;&gt;&gt; new_linked_list.get_head_data()\r\n    20\r\n    &gt;&gt;&gt; for value in new_linked_list:\r\n    ...    print(value)\r\n    20\r\n    &gt;&gt;&gt; new_linked_list.delete_value(value=20)\r\n    &gt;&gt;&gt; for value in new_linked_list:\r\n    ...    print(value)\r\n    &gt;&gt;&gt; for value in range(1,10):\r\n    ...    new_linked_list.insert(value=value)\r\n    &gt;&gt;&gt; for value in new_linked_list:\r\n    ...    print(value)\r\n    1\r\n    2\r\n    3\r\n    4\r\n    5\r\n    6\r\n    7\r\n    8\r\n    9\r\n    &quot;&quot;&quot;</span>\r\n\r\n\r\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&quot;__main__&quot;</span>:\r\n    <span class=\"hljs-keyword\">import</span> doctest\r\n\r\n    doctest.testmod()\r\n"
    }
  },
  "contributors": [
    {
      "name": "Akash G Krishnan",
      "email": "krishnanag1996@gmail.com",
      "commits": 1
    }
  ],
  "explanationUrl": {}
}