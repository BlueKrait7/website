{
  "slug": "heaps-algorithm",
  "name": "Heaps Algorithm",
  "categories": [
    "divideandconquer"
  ],
  "body": {},
  "implementations": {
    "python": {
      "dir": "divide_and_conquer\\heaps_algorithm.py",
      "url": "https://github.com/TheAlgorithms/python/tree/master/divide_and_conquer\\heaps_algorithm.py",
      "code": "<span class=\"hljs-string\">&quot;&quot;&quot;\r\nHeap&#x27;s algorithm returns the list of all permutations possible from a list.\r\nIt minimizes movement by generating each permutation from the previous one\r\nby swapping only two elements.\r\nMore information:\r\nhttps://en.wikipedia.org/wiki/Heap%27s_algorithm.\r\n&quot;&quot;&quot;</span>\r\n\r\n\r\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">heaps</span>(<span class=\"hljs-params\">arr: <span class=\"hljs-built_in\">list</span></span>) -&gt; <span class=\"hljs-built_in\">list</span>:\r\n    <span class=\"hljs-string\">&quot;&quot;&quot;\r\n    Pure python implementation of the Heap&#x27;s algorithm (recursive version),\r\n    returning all permutations of a list.\r\n    &gt;&gt;&gt; heaps([])\r\n    [()]\r\n    &gt;&gt;&gt; heaps([0])\r\n    [(0,)]\r\n    &gt;&gt;&gt; heaps([-1, 1])\r\n    [(-1, 1), (1, -1)]\r\n    &gt;&gt;&gt; heaps([1, 2, 3])\r\n    [(1, 2, 3), (2, 1, 3), (3, 1, 2), (1, 3, 2), (2, 3, 1), (3, 2, 1)]\r\n    &gt;&gt;&gt; from itertools import permutations\r\n    &gt;&gt;&gt; sorted(heaps([1,2,3])) == sorted(permutations([1,2,3]))\r\n    True\r\n    &gt;&gt;&gt; all(sorted(heaps(x)) == sorted(permutations(x))\r\n    ...     for x in ([], [0], [-1, 1], [1, 2, 3]))\r\n    True\r\n    &quot;&quot;&quot;</span>\r\n\r\n    <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(arr) &lt;= <span class=\"hljs-number\">1</span>:\r\n        <span class=\"hljs-keyword\">return</span> [<span class=\"hljs-built_in\">tuple</span>(arr)]\r\n\r\n    res = []\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">generate</span>(<span class=\"hljs-params\">k: <span class=\"hljs-built_in\">int</span>, arr: <span class=\"hljs-built_in\">list</span></span>):\r\n        <span class=\"hljs-keyword\">if</span> k == <span class=\"hljs-number\">1</span>:\r\n            res.append(<span class=\"hljs-built_in\">tuple</span>(arr[:]))\r\n            <span class=\"hljs-keyword\">return</span>\r\n\r\n        generate(k - <span class=\"hljs-number\">1</span>, arr)\r\n\r\n        <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(k - <span class=\"hljs-number\">1</span>):\r\n            <span class=\"hljs-keyword\">if</span> k % <span class=\"hljs-number\">2</span> == <span class=\"hljs-number\">0</span>:  <span class=\"hljs-comment\"># k is even</span>\r\n                arr[i], arr[k - <span class=\"hljs-number\">1</span>] = arr[k - <span class=\"hljs-number\">1</span>], arr[i]\r\n            <span class=\"hljs-keyword\">else</span>:  <span class=\"hljs-comment\"># k is odd</span>\r\n                arr[<span class=\"hljs-number\">0</span>], arr[k - <span class=\"hljs-number\">1</span>] = arr[k - <span class=\"hljs-number\">1</span>], arr[<span class=\"hljs-number\">0</span>]\r\n            generate(k - <span class=\"hljs-number\">1</span>, arr)\r\n\r\n    generate(<span class=\"hljs-built_in\">len</span>(arr), arr)\r\n    <span class=\"hljs-keyword\">return</span> res\r\n\r\n\r\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&quot;__main__&quot;</span>:\r\n    user_input = <span class=\"hljs-built_in\">input</span>(<span class=\"hljs-string\">&quot;Enter numbers separated by a comma:\\n&quot;</span>).strip()\r\n    arr = [<span class=\"hljs-built_in\">int</span>(item) <span class=\"hljs-keyword\">for</span> item <span class=\"hljs-keyword\">in</span> user_input.split(<span class=\"hljs-string\">&quot;,&quot;</span>)]\r\n    <span class=\"hljs-built_in\">print</span>(heaps(arr))\r\n"
    },
    "dart": {
      "dir": "other\\heaps_algorithm.dart",
      "url": "https://github.com/TheAlgorithms/dart/tree/master/other\\heaps_algorithm.dart",
      "code": "<span class=\"hljs-comment\">/// <span class=\"language-markdown\">Swap given [index1] and [index2] in given [collection]</span></span>\r\n<span class=\"hljs-keyword\">void</span> swap&lt;T&gt;(<span class=\"hljs-built_in\">List</span>&lt;T&gt; collection, <span class=\"hljs-built_in\">int</span> index1, <span class=\"hljs-built_in\">int</span> index2) {\r\n  T temp = collection[index1];\r\n  collection[index1] = collection[index2];\r\n  collection[index2] = temp;\r\n}\r\n\r\n<span class=\"hljs-comment\">/// <span class=\"language-markdown\">Returns all permutations of given [collection]</span></span>\r\n<span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">List</span>&lt;T&gt;&gt; permutations&lt;T&gt;(<span class=\"hljs-built_in\">List</span>&lt;T&gt; collection) {\r\n  <span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">int</span>&gt; stack = <span class=\"hljs-built_in\">List</span>.generate(collection.length, (x) =&gt; <span class=\"hljs-number\">0</span>);\r\n\r\n  <span class=\"hljs-built_in\">List</span>&lt;T&gt; currentPermutation = <span class=\"hljs-built_in\">List</span>.from(collection);\r\n  <span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">List</span>&lt;T&gt;&gt; output = [collection];\r\n\r\n  <span class=\"hljs-built_in\">int</span> i = <span class=\"hljs-number\">0</span>;\r\n  <span class=\"hljs-keyword\">while</span> (i &lt; collection.length) {\r\n    <span class=\"hljs-keyword\">if</span> (stack[i] &lt; i) {\r\n      <span class=\"hljs-keyword\">if</span> (i % <span class=\"hljs-number\">2</span> == <span class=\"hljs-number\">0</span>) {\r\n        swap(currentPermutation, <span class=\"hljs-number\">0</span>, i);\r\n      } <span class=\"hljs-keyword\">else</span> {\r\n        swap(currentPermutation, stack[i], i);\r\n      }\r\n      output.add(<span class=\"hljs-built_in\">List</span>.from(currentPermutation));\r\n      stack[i]++;\r\n      i = <span class=\"hljs-number\">0</span>;\r\n    } <span class=\"hljs-keyword\">else</span> {\r\n      stack[i] = <span class=\"hljs-number\">0</span>;\r\n      i++;\r\n    }\r\n  }\r\n  <span class=\"hljs-keyword\">return</span> output;\r\n}\r\n\r\nmain() {\r\n  <span class=\"hljs-built_in\">print</span>(permutations([]));\r\n  <span class=\"hljs-built_in\">print</span>(permutations([<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>]));\r\n  <span class=\"hljs-built_in\">print</span>(permutations([<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>]));\r\n\r\n  <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&quot;3! = <span class=\"hljs-subst\">${permutations([<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>]).length}</span>&quot;</span>);\r\n  <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&quot;4! = <span class=\"hljs-subst\">${permutations([<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>]).length}</span>&quot;</span>);\r\n  <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&quot;5! = <span class=\"hljs-subst\">${permutations([<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">5</span>]).length}</span>&quot;</span>);\r\n  <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&quot;6! = <span class=\"hljs-subst\">${permutations([<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">6</span>]).length}</span>&quot;</span>);\r\n}\r\n"
    }
  },
  "contributors": [
    {
      "name": "Guillaume Rochedix",
      "email": "33205665+grochedix@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Parowicz",
      "email": "arturparowicz@gmail.com",
      "commits": 3
    }
  ],
  "explanationUrl": {}
}