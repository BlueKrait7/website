{
  "slug": "line-segment-intersection",
  "name": "Line Segment Intersection",
  "categories": [
    "geometry"
  ],
  "body": {},
  "implementations": {
    "c-plus-plus": {
      "dir": "geometry\\line_segment_intersection.cpp",
      "url": "https://github.com/TheAlgorithms/c-plus-plus/tree/master/geometry\\line_segment_intersection.cpp",
      "code": "<span class=\"hljs-comment\">/**\r\n * @file\r\n * @brief check whether two line segments intersect each other\r\n * or not.\r\n */</span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;algorithm&gt;</span></span>\r\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;iostream&gt;</span></span>\r\n\r\n<span class=\"hljs-comment\">/**\r\n * Define a Point.\r\n */</span>\r\n<span class=\"hljs-keyword\">struct</span> <span class=\"hljs-title class_\">Point</span> {\r\n    <span class=\"hljs-type\">int</span> x;  <span class=\"hljs-comment\">/// Point respect to x coordinate</span>\r\n    <span class=\"hljs-type\">int</span> y;  <span class=\"hljs-comment\">/// Point respect to y coordinate</span>\r\n};\r\n\r\n<span class=\"hljs-comment\">/**\r\n * intersect returns true if segments of two line intersects and\r\n * false if they do not. It calls the subroutines direction\r\n * which computes the orientation.\r\n */</span>\r\n<span class=\"hljs-keyword\">struct</span> <span class=\"hljs-title class_\">SegmentIntersection</span> {\r\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">inline</span> <span class=\"hljs-type\">bool</span> <span class=\"hljs-title\">intersect</span><span class=\"hljs-params\">(Point first_point, Point second_point,\r\n                          Point third_point, Point forth_point)</span> </span>{\r\n        <span class=\"hljs-type\">int</span> direction1 = <span class=\"hljs-built_in\">direction</span>(third_point, forth_point, first_point);\r\n        <span class=\"hljs-type\">int</span> direction2 = <span class=\"hljs-built_in\">direction</span>(third_point, forth_point, second_point);\r\n        <span class=\"hljs-type\">int</span> direction3 = <span class=\"hljs-built_in\">direction</span>(first_point, second_point, third_point);\r\n        <span class=\"hljs-type\">int</span> direction4 = <span class=\"hljs-built_in\">direction</span>(first_point, second_point, forth_point);\r\n\r\n        <span class=\"hljs-keyword\">if</span> ((direction1 &lt; <span class=\"hljs-number\">0</span> || direction2 &gt; <span class=\"hljs-number\">0</span>) &amp;&amp;\r\n            (direction3 &lt; <span class=\"hljs-number\">0</span> || direction4 &gt; <span class=\"hljs-number\">0</span>))\r\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>;\r\n\r\n        <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (direction1 == <span class=\"hljs-number\">0</span> &amp;&amp;\r\n                 <span class=\"hljs-built_in\">on_segment</span>(third_point, forth_point, first_point))\r\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>;\r\n\r\n        <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (direction2 == <span class=\"hljs-number\">0</span> &amp;&amp;\r\n                 <span class=\"hljs-built_in\">on_segment</span>(third_point, forth_point, second_point))\r\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>;\r\n\r\n        <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (direction3 == <span class=\"hljs-number\">0</span> &amp;&amp;\r\n                 <span class=\"hljs-built_in\">on_segment</span>(first_point, second_point, third_point))\r\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>;\r\n\r\n        <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (direction3 == <span class=\"hljs-number\">0</span> &amp;&amp;\r\n                 <span class=\"hljs-built_in\">on_segment</span>(first_point, second_point, forth_point))\r\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>;\r\n\r\n        <span class=\"hljs-keyword\">else</span>\r\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>;\r\n    }\r\n\r\n    <span class=\"hljs-comment\">/**\r\n     * We will find direction of line here respect to @first_point.\r\n     * Here @second_point and @third_point is first and second points\r\n     * of the line respectively. we want a method to determine which way a\r\n     * given angle these three points turns. If returned number is negative,\r\n     * then the angle is counter-clockwise. That means the line is going to\r\n     * right to left. We will fount angle as clockwise if the method returns\r\n     * positive number.\r\n     */</span>\r\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">inline</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title\">direction</span><span class=\"hljs-params\">(Point first_point, Point second_point,\r\n                         Point third_point)</span> </span>{\r\n        <span class=\"hljs-keyword\">return</span> ((third_point.x - first_point.x) *\r\n                (second_point.y - first_point.y)) -\r\n               ((second_point.x - first_point.x) *\r\n                (third_point.y - first_point.y));\r\n    }\r\n\r\n    <span class=\"hljs-comment\">/**\r\n     * This method determines whether a point known to be colinear\r\n     * with a segment lies on that segment.\r\n     */</span>\r\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">inline</span> <span class=\"hljs-type\">bool</span> <span class=\"hljs-title\">on_segment</span><span class=\"hljs-params\">(Point first_point, Point second_point,\r\n                           Point third_point)</span> </span>{\r\n        <span class=\"hljs-keyword\">if</span> (std::<span class=\"hljs-built_in\">min</span>(first_point.x, second_point.x) &lt;= third_point.x &amp;&amp;\r\n            third_point.x &lt;= std::<span class=\"hljs-built_in\">max</span>(first_point.x, second_point.x) &amp;&amp;\r\n            std::<span class=\"hljs-built_in\">min</span>(first_point.y, second_point.y) &lt;= third_point.y &amp;&amp;\r\n            third_point.y &lt;= std::<span class=\"hljs-built_in\">max</span>(first_point.y, second_point.y))\r\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>;\r\n\r\n        <span class=\"hljs-keyword\">else</span>\r\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>;\r\n    }\r\n};\r\n\r\n<span class=\"hljs-comment\">/**\r\n * This is the main function to test whether the algorithm is\r\n * working well.\r\n */</span>\r\n<span class=\"hljs-function\"><span class=\"hljs-type\">int</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span> </span>{\r\n    SegmentIntersection segment;\r\n    Point first_point, second_point, third_point, forth_point;\r\n\r\n    std::cin &gt;&gt; first_point.x &gt;&gt; first_point.y;\r\n    std::cin &gt;&gt; second_point.x &gt;&gt; second_point.y;\r\n    std::cin &gt;&gt; third_point.x &gt;&gt; third_point.y;\r\n    std::cin &gt;&gt; forth_point.x &gt;&gt; forth_point.y;\r\n\r\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;%d&quot;</span>, segment.<span class=\"hljs-built_in\">intersect</span>(first_point, second_point, third_point,\r\n                                   forth_point));\r\n    std::cout &lt;&lt; std::endl;\r\n}\r\n"
    }
  },
  "contributors": [
    {
      "name": "Krishna Vedala",
      "email": "7001608+kvedala@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Sajied Shah Yousuf",
      "email": "40203390+meSajied@users.noreply.github.com",
      "commits": 1
    }
  ],
  "explanationUrl": {}
}