{
  "slug": "min-heap-two",
  "name": "Min Heap Two",
  "categories": [
    "datastructures",
    "heap",
    "binaryheap"
  ],
  "body": {},
  "implementations": {
    "dart": {
      "dir": "data_structures\\Heap\\Binary_Heap\\min_heap_two.dart",
      "url": "https://github.com/TheAlgorithms/dart/tree/master/data_structures\\Heap\\Binary_Heap\\min_heap_two.dart",
      "code": "<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;package:test/test.dart&#x27;</span>;\r\n\r\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MinHeap</span> </span>{\r\n  <span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">int</span>&gt; heap;\r\n\r\n  <span class=\"hljs-keyword\">void</span> buildHeap(<span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">int</span>&gt; array) {\r\n    <span class=\"hljs-keyword\">this</span>.heap = _heapify(array);\r\n  }\r\n\r\n  <span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">int</span>&gt; _heapify(<span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">int</span>&gt; array) {\r\n    <span class=\"hljs-built_in\">int</span> firstParent = (array.length - <span class=\"hljs-number\">2</span>) ~/ <span class=\"hljs-number\">2</span>;\r\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-built_in\">int</span> i = firstParent; i &gt;= <span class=\"hljs-number\">0</span>; i--) {\r\n      _siftDown(i, array.length - <span class=\"hljs-number\">1</span>, array);\r\n    }\r\n    <span class=\"hljs-keyword\">return</span> array;\r\n  }\r\n\r\n  <span class=\"hljs-built_in\">int</span> peek() {\r\n    <span class=\"hljs-keyword\">if</span> (!isEmpty()) {\r\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>.heap[<span class=\"hljs-number\">0</span>];\r\n    }\r\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">null</span>;\r\n  }\r\n\r\n  <span class=\"hljs-built_in\">bool</span> isEmpty() {\r\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>.heap.length == <span class=\"hljs-number\">0</span>;\r\n  }\r\n\r\n  <span class=\"hljs-keyword\">void</span> _siftUp(<span class=\"hljs-built_in\">int</span> currentIndex) {\r\n    <span class=\"hljs-built_in\">int</span> parentIndex = (currentIndex - <span class=\"hljs-number\">1</span>) ~/ <span class=\"hljs-number\">2</span>;\r\n    <span class=\"hljs-keyword\">while</span> (\r\n        parentIndex &gt;= <span class=\"hljs-number\">0</span> &amp;&amp; <span class=\"hljs-keyword\">this</span>.heap[parentIndex] &gt; <span class=\"hljs-keyword\">this</span>.heap[currentIndex]) {\r\n      _swap(parentIndex, currentIndex, <span class=\"hljs-keyword\">this</span>.heap);\r\n      currentIndex = parentIndex;\r\n      parentIndex = (currentIndex - <span class=\"hljs-number\">1</span>) ~/ <span class=\"hljs-number\">2</span>;\r\n    }\r\n  }\r\n\r\n  <span class=\"hljs-keyword\">void</span> _siftDown(<span class=\"hljs-built_in\">int</span> currentIndex, <span class=\"hljs-built_in\">int</span> endIndex, <span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">int</span>&gt; heap) {\r\n    <span class=\"hljs-built_in\">int</span> childOneIndex = (<span class=\"hljs-number\">2</span> * currentIndex) + <span class=\"hljs-number\">1</span>;\r\n    <span class=\"hljs-built_in\">int</span> childTwoIndex;\r\n\r\n    <span class=\"hljs-keyword\">while</span> (childOneIndex &lt;= endIndex) {\r\n      childTwoIndex =\r\n          <span class=\"hljs-number\">2</span> * currentIndex + <span class=\"hljs-number\">2</span> &lt;= endIndex ? <span class=\"hljs-number\">2</span> * currentIndex + <span class=\"hljs-number\">2</span> : <span class=\"hljs-number\">-1</span>;\r\n      <span class=\"hljs-built_in\">int</span> indexToSwap;\r\n      <span class=\"hljs-keyword\">if</span> (childTwoIndex != <span class=\"hljs-number\">-1</span> &amp;&amp; heap[childTwoIndex] &lt; heap[childOneIndex]) {\r\n        indexToSwap = childTwoIndex;\r\n      } <span class=\"hljs-keyword\">else</span> {\r\n        indexToSwap = childOneIndex;\r\n      }\r\n\r\n      <span class=\"hljs-keyword\">if</span> (heap[currentIndex] &gt; heap[indexToSwap]) {\r\n        _swap(currentIndex, indexToSwap, heap);\r\n        currentIndex = indexToSwap;\r\n        childOneIndex = (<span class=\"hljs-number\">2</span> * currentIndex) + <span class=\"hljs-number\">1</span>;\r\n      } <span class=\"hljs-keyword\">else</span> {\r\n        <span class=\"hljs-keyword\">break</span>;\r\n      }\r\n    }\r\n  }\r\n\r\n  <span class=\"hljs-keyword\">void</span> insert(<span class=\"hljs-built_in\">int</span> value) {\r\n    <span class=\"hljs-keyword\">this</span>.heap.add(value);\r\n    _siftUp(<span class=\"hljs-keyword\">this</span>.heap.length - <span class=\"hljs-number\">1</span>);\r\n  }\r\n\r\n  <span class=\"hljs-built_in\">int</span> remove() {\r\n    <span class=\"hljs-keyword\">if</span> (!isEmpty()) {\r\n      _swap(<span class=\"hljs-number\">0</span>, <span class=\"hljs-keyword\">this</span>.heap.length - <span class=\"hljs-number\">1</span>, <span class=\"hljs-keyword\">this</span>.heap);\r\n      <span class=\"hljs-built_in\">int</span> minElement = <span class=\"hljs-keyword\">this</span>.heap.removeLast();\r\n      _siftDown(<span class=\"hljs-number\">0</span>, <span class=\"hljs-keyword\">this</span>.heap.length - <span class=\"hljs-number\">1</span>, <span class=\"hljs-keyword\">this</span>.heap);\r\n      <span class=\"hljs-keyword\">return</span> minElement;\r\n    }\r\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">null</span>;\r\n  }\r\n\r\n  <span class=\"hljs-keyword\">void</span> _swap(<span class=\"hljs-built_in\">int</span> left, <span class=\"hljs-built_in\">int</span> right, <span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">int</span>&gt; array) {\r\n    <span class=\"hljs-built_in\">int</span> temp;\r\n    temp = array[left];\r\n    array[left] = array[right];\r\n    array[right] = temp;\r\n  }\r\n}\r\n\r\n<span class=\"hljs-keyword\">void</span> main() {\r\n  MinHeap minheap = <span class=\"hljs-keyword\">new</span> MinHeap();\r\n  <span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">int</span>&gt; array = [<span class=\"hljs-number\">48</span>, <span class=\"hljs-number\">12</span>, <span class=\"hljs-number\">24</span>, <span class=\"hljs-number\">7</span>, <span class=\"hljs-number\">8</span>, <span class=\"hljs-number\">-5</span>, <span class=\"hljs-number\">24</span>, <span class=\"hljs-number\">391</span>, <span class=\"hljs-number\">24</span>, <span class=\"hljs-number\">56</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">6</span>, <span class=\"hljs-number\">8</span>, <span class=\"hljs-number\">41</span>];\r\n  minheap.buildHeap(array);\r\n  test((<span class=\"hljs-string\">&#x27;Test case 1&#x27;</span>), () {\r\n    expect(minheap.remove(), equals(<span class=\"hljs-number\">-5</span>));\r\n    expect(minheap.isEmpty(), isFalse);\r\n    minheap.insert(<span class=\"hljs-number\">-100</span>);\r\n    expect(minheap.peek(), equals(<span class=\"hljs-number\">-100</span>));\r\n    minheap.insert(<span class=\"hljs-number\">-100</span>);\r\n    expect(minheap.remove(), equals(<span class=\"hljs-number\">-100</span>));\r\n    expect(minheap.remove(), equals(<span class=\"hljs-number\">-100</span>));\r\n  });\r\n\r\n  test((<span class=\"hljs-string\">&#x27;Test case 2&#x27;</span>), () {\r\n    array = [<span class=\"hljs-number\">-7</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">8</span>, <span class=\"hljs-number\">-10</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">-6</span>, <span class=\"hljs-number\">-10</span>, <span class=\"hljs-number\">-2</span>, <span class=\"hljs-number\">-7</span>, <span class=\"hljs-number\">10</span>, <span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">9</span>, <span class=\"hljs-number\">-9</span>, <span class=\"hljs-number\">-5</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">8</span>];\r\n    minheap = <span class=\"hljs-keyword\">new</span> MinHeap();\r\n    minheap.buildHeap(array);\r\n    expect(minheap.remove(), equals(<span class=\"hljs-number\">-10</span>));\r\n    expect(minheap.peek(), equals(<span class=\"hljs-number\">-10</span>));\r\n    minheap.insert(<span class=\"hljs-number\">-8</span>);\r\n    expect(minheap.peek(), equals(<span class=\"hljs-number\">-10</span>));\r\n    expect(minheap.remove(), equals(<span class=\"hljs-number\">-10</span>));\r\n    expect(minheap.peek(), equals(<span class=\"hljs-number\">-9</span>));\r\n    expect(minheap.isEmpty(), isFalse);\r\n    minheap.insert(<span class=\"hljs-number\">-8</span>);\r\n    expect(minheap.peek(), equals(<span class=\"hljs-number\">-9</span>));\r\n  });\r\n}\r\n"
    }
  },
  "contributors": [
    {
      "name": "Akash G Krishnan",
      "email": "krishnanag1996@gmail.com",
      "commits": 3
    }
  ],
  "explanationUrl": {}
}