{
  "slug": "length",
  "name": "Length",
  "categories": [
    "strings"
  ],
  "body": {},
  "implementations": {
    "aarch64_assembly": {
      "dir": "string\\length.s",
      "url": "https://github.com/TheAlgorithms/aarch64_assembly/tree/master/string\\length.s",
      "code": "<span class=\"hljs-comment\">/* ARM assembly AARCH64 Raspberry PI 3B */</span>\r\n<span class=\"hljs-comment\">/*  program stringLength64.s   */</span> \r\n \r\n<span class=\"hljs-comment\">/*******************************************/</span>\r\n<span class=\"hljs-comment\">/* Constantes file                         */</span>\r\n<span class=\"hljs-comment\">/*******************************************/</span>\r\n<span class=\"hljs-comment\">/* for this file see task include a file in language AArch64 assembly*/</span>\r\n<span class=\"hljs-symbol\">.include</span> <span class=\"hljs-string\">&quot;../includeConstantesARM64.inc&quot;</span>\r\n \r\n<span class=\"hljs-comment\">/*********************************/</span>\r\n<span class=\"hljs-comment\">/* Initialized data              */</span>\r\n<span class=\"hljs-comment\">/*********************************/</span>\r\n<span class=\"hljs-symbol\">.data</span>\r\n<span class=\"hljs-symbol\">sMessResultByte:</span>        <span class=\"hljs-meta\">.asciz</span> <span class=\"hljs-string\">&quot;===Byte Length=== : @ \\n&quot;</span>\r\n<span class=\"hljs-symbol\">sMessResultChar:</span>        <span class=\"hljs-meta\">.asciz</span> <span class=\"hljs-string\">&quot;===Character Length=== : @ \\n&quot;</span>\r\n<span class=\"hljs-symbol\">szString1:</span>              <span class=\"hljs-meta\">.asciz</span> <span class=\"hljs-string\">&quot;møøse€&quot;</span>\r\n<span class=\"hljs-symbol\">szCarriageReturn:</span>       <span class=\"hljs-meta\">.asciz</span> <span class=\"hljs-string\">&quot;\\n&quot;</span>\r\n \r\n<span class=\"hljs-comment\">/*********************************/</span>\r\n<span class=\"hljs-comment\">/* UnInitialized data            */</span>\r\n<span class=\"hljs-comment\">/*********************************/</span>\r\n<span class=\"hljs-symbol\">.bss</span>\r\n<span class=\"hljs-symbol\">sZoneConv:</span>        <span class=\"hljs-meta\">.skip</span> <span class=\"hljs-number\">24</span>\r\n<span class=\"hljs-comment\">/*********************************/</span>\r\n<span class=\"hljs-comment\">/*  code section                 */</span>\r\n<span class=\"hljs-comment\">/*********************************/</span>\r\n<span class=\"hljs-symbol\">.text</span>\r\n<span class=\"hljs-symbol\">.global</span> main \r\n<span class=\"hljs-symbol\">main:</span>                                 <span class=\"hljs-comment\">// entry of program </span>\r\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszString1\r\n    <span class=\"hljs-keyword\">bl</span> affichageMess                  <span class=\"hljs-comment\">// display string</span>\r\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszCarriageReturn\r\n    <span class=\"hljs-keyword\">bl</span> affichageMess\r\n \r\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszString1\r\n    <span class=\"hljs-keyword\">mov</span> x1,<span class=\"hljs-number\">#0</span>\r\n<span class=\"hljs-number\">1</span>:                                    <span class=\"hljs-comment\">// loop compute length bytes</span>\r\n    <span class=\"hljs-keyword\">ldrb</span> w2,[x0,x1]\r\n    <span class=\"hljs-keyword\">cmp</span> w2,<span class=\"hljs-number\">#0</span>\r\n    cinc x1,x1,ne\r\n    <span class=\"hljs-keyword\">bne</span> <span class=\"hljs-number\">1</span>b\r\n \r\n    <span class=\"hljs-keyword\">mov</span> x0,x1                         <span class=\"hljs-comment\">// result display</span>\r\n    <span class=\"hljs-keyword\">ldr</span> x1,qAdrsZoneConv\r\n    <span class=\"hljs-keyword\">bl</span> conversion10                   <span class=\"hljs-comment\">// call decimal conversion</span>\r\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrsMessResultByte\r\n    <span class=\"hljs-keyword\">ldr</span> x1,qAdrsZoneConv              <span class=\"hljs-comment\">// insert conversion in message</span>\r\n    <span class=\"hljs-keyword\">bl</span> strInsertAtCharInc\r\n    <span class=\"hljs-keyword\">bl</span> affichageMess\r\n \r\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszString1\r\n    <span class=\"hljs-keyword\">mov</span> x1,<span class=\"hljs-number\">#0</span>\r\n    <span class=\"hljs-keyword\">mov</span> x3,<span class=\"hljs-number\">#0</span>\r\n<span class=\"hljs-number\">2</span>:                                    <span class=\"hljs-comment\">// loop compute length characters</span>\r\n    <span class=\"hljs-keyword\">ldrb</span> w2,[x0,x1]\r\n    <span class=\"hljs-keyword\">cmp</span> w2,<span class=\"hljs-number\">#0</span>\r\n    <span class=\"hljs-keyword\">beq</span> <span class=\"hljs-number\">6</span>f\r\n    <span class=\"hljs-keyword\">and</span> x2,x2,<span class=\"hljs-number\">#0b11100000</span>             <span class=\"hljs-comment\">// 3 bytes ?</span>\r\n    <span class=\"hljs-keyword\">cmp</span> x2,<span class=\"hljs-number\">#0b11100000</span>\r\n    <span class=\"hljs-keyword\">bne</span> <span class=\"hljs-number\">3</span>f\r\n    <span class=\"hljs-keyword\">add</span> x3,x3,<span class=\"hljs-number\">#1</span>\r\n    <span class=\"hljs-keyword\">add</span> x1,x1,<span class=\"hljs-number\">#3</span>\r\n    <span class=\"hljs-keyword\">b</span> <span class=\"hljs-number\">2</span>b\r\n<span class=\"hljs-number\">3</span>:\r\n    <span class=\"hljs-keyword\">and</span> x2,x2,<span class=\"hljs-number\">#0b11000000</span>              <span class=\"hljs-comment\">// 2 bytes ?</span>\r\n    <span class=\"hljs-keyword\">cmp</span> x2,<span class=\"hljs-number\">#0b11000000</span>\r\n    <span class=\"hljs-keyword\">bne</span> <span class=\"hljs-number\">4</span>f\r\n    <span class=\"hljs-keyword\">add</span> x3,x3,<span class=\"hljs-number\">#1</span>\r\n    <span class=\"hljs-keyword\">add</span> x1,x1,<span class=\"hljs-number\">#2</span>\r\n    <span class=\"hljs-keyword\">b</span> <span class=\"hljs-number\">2</span>b\r\n<span class=\"hljs-number\">4</span>:                                    <span class=\"hljs-comment\">// else 1 byte</span>\r\n    <span class=\"hljs-keyword\">add</span> x3,x3,<span class=\"hljs-number\">#1</span>\r\n    <span class=\"hljs-keyword\">add</span> x1,x1,<span class=\"hljs-number\">#1</span>\r\n    <span class=\"hljs-keyword\">b</span> <span class=\"hljs-number\">2</span>b\r\n \r\n<span class=\"hljs-number\">6</span>:\r\n    <span class=\"hljs-keyword\">mov</span> x0,x3\r\n    <span class=\"hljs-keyword\">ldr</span> x1,qAdrsZoneConv\r\n    <span class=\"hljs-keyword\">bl</span> conversion10                   <span class=\"hljs-comment\">// call decimal conversion</span>\r\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrsMessResultChar\r\n    <span class=\"hljs-keyword\">ldr</span> x1,qAdrsZoneConv              <span class=\"hljs-comment\">// insert conversion in message</span>\r\n    <span class=\"hljs-keyword\">bl</span> strInsertAtCharInc\r\n    <span class=\"hljs-keyword\">bl</span> affichageMess\r\n<span class=\"hljs-number\">100</span>:                                  <span class=\"hljs-comment\">// standard end of the program </span>\r\n    <span class=\"hljs-keyword\">mov</span> x0,<span class=\"hljs-number\">0</span>                          <span class=\"hljs-comment\">// return code</span>\r\n    <span class=\"hljs-keyword\">mov</span> x8,EXIT                       <span class=\"hljs-comment\">// request to exit program</span>\r\n    <span class=\"hljs-keyword\">svc</span> <span class=\"hljs-number\">0</span>                             <span class=\"hljs-comment\">// perform the system call</span>\r\n \r\n<span class=\"hljs-symbol\">qAdrszCarriageReturn:</span>     .quad szCarriageReturn\r\n<span class=\"hljs-symbol\">qAdrsMessResultByte:</span>      .quad sMessResultByte\r\n<span class=\"hljs-symbol\">qAdrsMessResultChar:</span>      .quad sMessResultChar\r\n<span class=\"hljs-symbol\">qAdrszString1:</span>            .quad szString1\r\n<span class=\"hljs-symbol\">qAdrsZoneConv:</span>            .quad sZoneConv\r\n<span class=\"hljs-comment\">/********************************************************/</span>\r\n<span class=\"hljs-comment\">/*        File Include fonctions                        */</span>\r\n<span class=\"hljs-comment\">/********************************************************/</span>\r\n<span class=\"hljs-comment\">/* for this file see task include a file in language AArch64 assembly */</span>\r\n<span class=\"hljs-symbol\">.include</span> <span class=\"hljs-string\">&quot;../includeARM64.inc&quot;</span>\r\n"
    }
  },
  "contributors": [
    {
      "name": "Mertcan Davulcu",
      "email": "54983926+mertcandav@users.noreply.github.com",
      "commits": 1
    }
  ],
  "explanationUrl": {}
}