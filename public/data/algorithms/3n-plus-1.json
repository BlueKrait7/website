{
  "slug": "3n-plus-1",
  "name": "3n Plus 1",
  "categories": [
    "math"
  ],
  "body": {},
  "implementations": {
    "python": {
      "dir": "maths\\3n_plus_1.py",
      "url": "https://github.com/TheAlgorithms/python/tree/master/maths\\3n_plus_1.py",
      "code": "<span class=\"hljs-keyword\">from</span> __future__ <span class=\"hljs-keyword\">import</span> annotations\r\n\r\n\r\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">n31</span>(<span class=\"hljs-params\">a: <span class=\"hljs-built_in\">int</span></span>) -&gt; <span class=\"hljs-built_in\">tuple</span>[<span class=\"hljs-built_in\">list</span>[<span class=\"hljs-built_in\">int</span>], <span class=\"hljs-built_in\">int</span>]:\r\n    <span class=\"hljs-string\">&quot;&quot;&quot;\r\n    Returns the Collatz sequence and its length of any positive integer.\r\n    &gt;&gt;&gt; n31(4)\r\n    ([4, 2, 1], 3)\r\n    &quot;&quot;&quot;</span>\r\n\r\n    <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> <span class=\"hljs-built_in\">isinstance</span>(a, <span class=\"hljs-built_in\">int</span>):\r\n        <span class=\"hljs-keyword\">raise</span> TypeError(<span class=\"hljs-string\">f&quot;Must be int, not <span class=\"hljs-subst\">{<span class=\"hljs-built_in\">type</span>(a).__name__}</span>&quot;</span>)\r\n    <span class=\"hljs-keyword\">if</span> a &lt; <span class=\"hljs-number\">1</span>:\r\n        <span class=\"hljs-keyword\">raise</span> ValueError(<span class=\"hljs-string\">f&quot;Given integer must be greater than 1, not <span class=\"hljs-subst\">{a}</span>&quot;</span>)\r\n\r\n    path = [a]\r\n    <span class=\"hljs-keyword\">while</span> a != <span class=\"hljs-number\">1</span>:\r\n        <span class=\"hljs-keyword\">if</span> a % <span class=\"hljs-number\">2</span> == <span class=\"hljs-number\">0</span>:\r\n            a = a // <span class=\"hljs-number\">2</span>\r\n        <span class=\"hljs-keyword\">else</span>:\r\n            a = <span class=\"hljs-number\">3</span> * a + <span class=\"hljs-number\">1</span>\r\n        path += [a]\r\n    <span class=\"hljs-keyword\">return</span> path, <span class=\"hljs-built_in\">len</span>(path)\r\n\r\n\r\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">test_n31</span>():\r\n    <span class=\"hljs-string\">&quot;&quot;&quot;\r\n    &gt;&gt;&gt; test_n31()\r\n    &quot;&quot;&quot;</span>\r\n    <span class=\"hljs-keyword\">assert</span> n31(<span class=\"hljs-number\">4</span>) == ([<span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">1</span>], <span class=\"hljs-number\">3</span>)\r\n    <span class=\"hljs-keyword\">assert</span> n31(<span class=\"hljs-number\">11</span>) == ([<span class=\"hljs-number\">11</span>, <span class=\"hljs-number\">34</span>, <span class=\"hljs-number\">17</span>, <span class=\"hljs-number\">52</span>, <span class=\"hljs-number\">26</span>, <span class=\"hljs-number\">13</span>, <span class=\"hljs-number\">40</span>, <span class=\"hljs-number\">20</span>, <span class=\"hljs-number\">10</span>, <span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">16</span>, <span class=\"hljs-number\">8</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">1</span>], <span class=\"hljs-number\">15</span>)\r\n    <span class=\"hljs-keyword\">assert</span> n31(<span class=\"hljs-number\">31</span>) == (\r\n        [\r\n            <span class=\"hljs-number\">31</span>,\r\n            <span class=\"hljs-number\">94</span>,\r\n            <span class=\"hljs-number\">47</span>,\r\n            <span class=\"hljs-number\">142</span>,\r\n            <span class=\"hljs-number\">71</span>,\r\n            <span class=\"hljs-number\">214</span>,\r\n            <span class=\"hljs-number\">107</span>,\r\n            <span class=\"hljs-number\">322</span>,\r\n            <span class=\"hljs-number\">161</span>,\r\n            <span class=\"hljs-number\">484</span>,\r\n            <span class=\"hljs-number\">242</span>,\r\n            <span class=\"hljs-number\">121</span>,\r\n            <span class=\"hljs-number\">364</span>,\r\n            <span class=\"hljs-number\">182</span>,\r\n            <span class=\"hljs-number\">91</span>,\r\n            <span class=\"hljs-number\">274</span>,\r\n            <span class=\"hljs-number\">137</span>,\r\n            <span class=\"hljs-number\">412</span>,\r\n            <span class=\"hljs-number\">206</span>,\r\n            <span class=\"hljs-number\">103</span>,\r\n            <span class=\"hljs-number\">310</span>,\r\n            <span class=\"hljs-number\">155</span>,\r\n            <span class=\"hljs-number\">466</span>,\r\n            <span class=\"hljs-number\">233</span>,\r\n            <span class=\"hljs-number\">700</span>,\r\n            <span class=\"hljs-number\">350</span>,\r\n            <span class=\"hljs-number\">175</span>,\r\n            <span class=\"hljs-number\">526</span>,\r\n            <span class=\"hljs-number\">263</span>,\r\n            <span class=\"hljs-number\">790</span>,\r\n            <span class=\"hljs-number\">395</span>,\r\n            <span class=\"hljs-number\">1186</span>,\r\n            <span class=\"hljs-number\">593</span>,\r\n            <span class=\"hljs-number\">1780</span>,\r\n            <span class=\"hljs-number\">890</span>,\r\n            <span class=\"hljs-number\">445</span>,\r\n            <span class=\"hljs-number\">1336</span>,\r\n            <span class=\"hljs-number\">668</span>,\r\n            <span class=\"hljs-number\">334</span>,\r\n            <span class=\"hljs-number\">167</span>,\r\n            <span class=\"hljs-number\">502</span>,\r\n            <span class=\"hljs-number\">251</span>,\r\n            <span class=\"hljs-number\">754</span>,\r\n            <span class=\"hljs-number\">377</span>,\r\n            <span class=\"hljs-number\">1132</span>,\r\n            <span class=\"hljs-number\">566</span>,\r\n            <span class=\"hljs-number\">283</span>,\r\n            <span class=\"hljs-number\">850</span>,\r\n            <span class=\"hljs-number\">425</span>,\r\n            <span class=\"hljs-number\">1276</span>,\r\n            <span class=\"hljs-number\">638</span>,\r\n            <span class=\"hljs-number\">319</span>,\r\n            <span class=\"hljs-number\">958</span>,\r\n            <span class=\"hljs-number\">479</span>,\r\n            <span class=\"hljs-number\">1438</span>,\r\n            <span class=\"hljs-number\">719</span>,\r\n            <span class=\"hljs-number\">2158</span>,\r\n            <span class=\"hljs-number\">1079</span>,\r\n            <span class=\"hljs-number\">3238</span>,\r\n            <span class=\"hljs-number\">1619</span>,\r\n            <span class=\"hljs-number\">4858</span>,\r\n            <span class=\"hljs-number\">2429</span>,\r\n            <span class=\"hljs-number\">7288</span>,\r\n            <span class=\"hljs-number\">3644</span>,\r\n            <span class=\"hljs-number\">1822</span>,\r\n            <span class=\"hljs-number\">911</span>,\r\n            <span class=\"hljs-number\">2734</span>,\r\n            <span class=\"hljs-number\">1367</span>,\r\n            <span class=\"hljs-number\">4102</span>,\r\n            <span class=\"hljs-number\">2051</span>,\r\n            <span class=\"hljs-number\">6154</span>,\r\n            <span class=\"hljs-number\">3077</span>,\r\n            <span class=\"hljs-number\">9232</span>,\r\n            <span class=\"hljs-number\">4616</span>,\r\n            <span class=\"hljs-number\">2308</span>,\r\n            <span class=\"hljs-number\">1154</span>,\r\n            <span class=\"hljs-number\">577</span>,\r\n            <span class=\"hljs-number\">1732</span>,\r\n            <span class=\"hljs-number\">866</span>,\r\n            <span class=\"hljs-number\">433</span>,\r\n            <span class=\"hljs-number\">1300</span>,\r\n            <span class=\"hljs-number\">650</span>,\r\n            <span class=\"hljs-number\">325</span>,\r\n            <span class=\"hljs-number\">976</span>,\r\n            <span class=\"hljs-number\">488</span>,\r\n            <span class=\"hljs-number\">244</span>,\r\n            <span class=\"hljs-number\">122</span>,\r\n            <span class=\"hljs-number\">61</span>,\r\n            <span class=\"hljs-number\">184</span>,\r\n            <span class=\"hljs-number\">92</span>,\r\n            <span class=\"hljs-number\">46</span>,\r\n            <span class=\"hljs-number\">23</span>,\r\n            <span class=\"hljs-number\">70</span>,\r\n            <span class=\"hljs-number\">35</span>,\r\n            <span class=\"hljs-number\">106</span>,\r\n            <span class=\"hljs-number\">53</span>,\r\n            <span class=\"hljs-number\">160</span>,\r\n            <span class=\"hljs-number\">80</span>,\r\n            <span class=\"hljs-number\">40</span>,\r\n            <span class=\"hljs-number\">20</span>,\r\n            <span class=\"hljs-number\">10</span>,\r\n            <span class=\"hljs-number\">5</span>,\r\n            <span class=\"hljs-number\">16</span>,\r\n            <span class=\"hljs-number\">8</span>,\r\n            <span class=\"hljs-number\">4</span>,\r\n            <span class=\"hljs-number\">2</span>,\r\n            <span class=\"hljs-number\">1</span>,\r\n        ],\r\n        <span class=\"hljs-number\">107</span>,\r\n    )\r\n\r\n\r\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&quot;__main__&quot;</span>:\r\n    num = <span class=\"hljs-number\">4</span>\r\n    path, length = n31(num)\r\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;The Collatz sequence of <span class=\"hljs-subst\">{num}</span> took <span class=\"hljs-subst\">{length}</span> steps. \\nPath: <span class=\"hljs-subst\">{path}</span>&quot;</span>)\r\n"
    },
    "ruby": {
      "dir": "maths\\3nPlus1.rb",
      "url": "https://github.com/TheAlgorithms/ruby/tree/master/maths\\3nPlus1.rb",
      "code": "<span class=\"hljs-comment\"># A ruby program for 3N plus 1</span>\r\n<span class=\"hljs-comment\"># 3N plus 1 is also called as Collatz Conjecture</span>\r\n<span class=\"hljs-comment\">#</span>\r\n<span class=\"hljs-comment\"># f(n) =&gt; n / 2 (if n = 0 (mod 2))</span>\r\n<span class=\"hljs-comment\"># f(n) =&gt; (3n + 1) (if n = 1 (mod 2))</span>\r\n<span class=\"hljs-comment\">#</span>\r\n<span class=\"hljs-comment\"># Wiki: https://en.wikipedia.org/wiki/Collatz_conjecture</span>\r\n\r\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">collatz_conjecture</span><span class=\"hljs-params\">(number)</span></span>\r\n  n = number\r\n  nums = []\r\n  nums.push(number)\r\n\r\n  <span class=\"hljs-keyword\">while</span> number &gt; <span class=\"hljs-number\">1</span>\r\n    <span class=\"hljs-keyword\">if</span> number.even?\r\n      number /= <span class=\"hljs-number\">2</span>\r\n      nums.push(number)\r\n    <span class=\"hljs-keyword\">else</span>\r\n      number = <span class=\"hljs-number\">3</span> * number + <span class=\"hljs-number\">1</span>\r\n      nums.push(number)\r\n    <span class=\"hljs-keyword\">end</span>\r\n  <span class=\"hljs-keyword\">end</span>\r\n\r\n  <span class=\"hljs-string\">&quot;The 3N + 1 series of <span class=\"hljs-subst\">#{n}</span> is <span class=\"hljs-subst\">#{nums}</span>.&quot;</span>\r\n<span class=\"hljs-keyword\">rescue</span> StandardError\r\n  <span class=\"hljs-string\">&#x27;Error: Please provide number only!&#x27;</span>\r\n<span class=\"hljs-keyword\">end</span>\r\n\r\n<span class=\"hljs-comment\"># Valid inputs</span>\r\nputs collatz_conjecture(<span class=\"hljs-number\">12</span>)\r\n<span class=\"hljs-comment\"># The 3N + 1 series of 12 is [12, 6, 3, 10, 5, 16, 8, 4, 2, 1].</span>\r\n\r\nputs collatz_conjecture(<span class=\"hljs-number\">6</span>)\r\n<span class=\"hljs-comment\"># The 3N + 1 series of 6 is [6, 3, 10, 5, 16, 8, 4, 2, 1].</span>\r\n\r\nputs collatz_conjecture(<span class=\"hljs-number\">100</span>)\r\n<span class=\"hljs-comment\"># The 3N + 1 series of 100 is [100, 50, 25, 76, 38, 19, 58, 29, 88, 44, 22, 11, 34, 17, 52, 26, 13, 40, 20, 10, 5, 16, 8, 4, 2, 1].</span>\r\n\r\n<span class=\"hljs-comment\"># Invalid inputs</span>\r\nputs collatz_conjecture(<span class=\"hljs-string\">&#x27;12&#x27;</span>)\r\n<span class=\"hljs-comment\"># Error: Please provide number only!</span>\r\n\r\nputs collatz_conjecture(<span class=\"hljs-string\">&#x27;a&#x27;</span>)\r\n<span class=\"hljs-comment\"># Error: Please provide number only!</span>\r\n"
    }
  },
  "contributors": [
    {
      "name": "Sahil Afrid Farookhi",
      "email": "msafarookhi@gmail.com",
      "commits": 1
    },
    {
      "name": "CarsonHam",
      "email": "carson.ham@utexas.edu",
      "commits": 1
    },
    {
      "name": "Christian Clauss",
      "email": "cclauss@me.com",
      "commits": 2
    },
    {
      "name": "Vitor Oliveira",
      "email": "vbrazo@gmail.com",
      "commits": 2
    }
  ],
  "explanationUrl": {}
}